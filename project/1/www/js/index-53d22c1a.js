import{d as se,_ as W,u as K,o as S,c as U,a as e,t as u,b as s,e as y,w as q,f as O,n as M,r as i,g as le,h as ne,v as ie,T as I,i as ce,j as re,k as ue,l as de,m as J,p as me,q as ve,s as pe,I as ge,F as fe,x as _e,y as E,z as he,A as we,G as ye,B as Ae,C as oe}from"./index-d71e1836.js";import{B as ee}from"./index-2b37af5f.js";import{l as ke}from"./config-f57d91a6.js";import{l as te}from"./config-6c4e82a2.js";import{I as Z}from"./index-de44f94e.js";import{g as be}from"./vue3-puzzle-vcode.es-94677d61.js";import Ce from"./index-46c422da.js";import{n as Se}from"./login.api-d786b76a.js";import"./index-27d29771.js";import"./index-ac66dd73.js";import"./use-id-7082c426.js";const Ve={class:"code-content"},Ue={class:"title"},Ie={class:"scroll-content"},Ne={class:"btn"},Te=se({name:"AgreeDialog"}),xe=Object.assign(Te,{props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue","done"],setup(B,{emit:f}){const{t:l}=K(),_=()=>{f("update:modelValue",!1)},h=()=>{f("done"),f("update:modelValue",!1)};return(A,$)=>{const C=ee;return S(),U("div",{class:M([{active:B.modelValue},"area-code-dialog"])},[e("div",Ve,[e("div",Ue,u(s(l)("\u7528\u6237\u534F\u8BAE")),1),e("div",Ie,[y(Ce)]),e("div",Ne,[y(C,{type:"custom",size:"small",onClick:h},{default:q(()=>[O(u(s(l)("\u6211\u5DF2\u9605\u8BFB")),1)]),_:1})])]),e("div",{class:"code-bg",onClick:_})],2)}}}),Me=W(xe,[["__scopeId","data-v-4bfed0a1"],["__file","D:/caishen/mall-app-h5-vue/mall-app-h5-vue/src/views/login/components/AgreeDialog.vue"]]);const Be={class:"code-content"},$e={class:"title"},De={class:"input-content"},Re={class:"input"},Le=["placeholder"],Pe=["width","height"],Ee=se({name:"NumberCodeDialog"}),Oe=Object.assign(Ee,{props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue","done"],setup(B,{emit:f}){const l=B,{t:_}=K(),h=i(""),A=i(""),$=i(180),C=i(240),k=i(100),b=i(35),Q=i(50),j=i(160),R=i(32),L=i(40),X=i(40),F=i(100),m=(t,a)=>Math.floor(Math.random()*(a-t)+t),N=(t,a)=>{let d=m(t,a),g=m(t,a),x=m(t,a);return"rgb("+d+","+g+","+x+")"},Y=()=>{let a=document.getElementById("s-canvas").getContext("2d");a.textBaseline="bottom",a.fillStyle=N($.value,C.value),a.fillRect(0,0,k.value,b.value);for(let d=0;d<A.value.length;d++)D(a,A.value[d],d);z(a),v(a)},D=(t,a,d)=>{t.fillStyle=N(Q.value,j.value),t.font=m(R.value,L.value)+"px SimHei";let g=(d+1)*(k.value/(A.value.length+1)),x=m(L.value,b.value-5);var w=m(-15,15);t.translate(g,x),t.rotate(w*Math.PI/180),t.fillText(a,0,0),t.rotate(-w*Math.PI/180),t.translate(-g,-x)},z=t=>{for(let a=0;a<4;a++)t.strokeStyle=N(X.value,F.value),t.beginPath(),t.moveTo(m(0,k.value),m(0,b.value)),t.lineTo(m(0,k.value),m(0,b.value)),t.stroke()},v=t=>{for(let a=0;a<10;a++)t.fillStyle=N(0,100),t.beginPath(),t.arc(m(0,k.value),m(0,b.value),1,0,2*Math.PI),t.fill()},V=()=>{A.value="",P()},P=()=>{const t=[0,1,2,3,4,5,6,7,8,9];let a="";for(let d=0;d<4;d++){const g=Math.floor(Math.random()*t.length);a+=t[g]}A.value=a,Y()};le(()=>l.modelValue,t=>{t?V():h.value=""});const T=()=>{f("update:modelValue",!1)},c=()=>{if(!h.value){I(_("\u9A8C\u8BC1\u7801\u4E0D\u80FD\u4E3A\u7A7A"));return}h.value===A.value?(f("done"),T()):I(_("\u9A8C\u8BC1\u7801\u4E0D\u6B63\u786E"))};return(t,a)=>{const d=ee;return S(),U("div",{class:M([{active:B.modelValue},"number-code-dialog"])},[e("div",Be,[e("div",$e,u(s(_)("entryVerifyCode")),1),e("div",De,[e("div",Re,[ne(e("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=g=>h.value=g),placeholder:s(_)("verificationCode")},null,8,Le),[[ie,h.value]])]),e("div",{onClick:P},[e("canvas",{id:"s-canvas",width:k.value,height:b.value},null,8,Pe)])]),y(d,{type:"custom",block:"",onClick:c},{default:q(()=>[O(u(s(_)("\u786E\u5B9A")),1)]),_:1})]),e("div",{class:"code-bg",onClick:T})],2)}}}),Qe=W(Oe,[["__scopeId","data-v-64e71d2a"],["__file","D:/caishen/mall-app-h5-vue/mall-app-h5-vue/src/components/number-code-dialog/index.vue"]]);const je={class:"header-content"},Xe=["src"],Fe=["src"],Ye={class:"logo-content"},ze=["src"],Ge={class:"type-tab"},He=["onClick"],Je={class:"form-content"},Ze={key:0,class:"item"},We={class:"title"},Ke={class:"input-content"},qe={key:1,class:"item"},eo={class:"title"},oo={class:"input-content"},to={class:"item"},so={class:"title"},ao={class:"input-content"},lo={class:"btn"},no={__name:"index",setup(B){const f=ce(),{t:l,locale:_}=K(),h=re(),A=ue(),$=de(),C="sm",k=i(new URL("/www/png/name-3ddd62dd.png",self.location));k.value=new URL("/www/png/name-e1188710.png",self.location);const b=J(()=>["familyMart"].includes(C)),Q=new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACVSURBVHgB7ZPJDYAgEEU/iQVYAiXYkhVoB8QKLMkStAO1Au1g/N5ckeXigZcMSxgehAlA4ncoEcnZG0aOSJRSZcZmpXTmvEYc5/2UthKOeTyCC53407/emYuaMXrI9lwNG0woGIuj0C47SGsHWQUfxF4kgxDkuUg9QpF7kUbnd7NIj0XSX/nZVwJ/0kBRs7s5npC4sgFBUms+k2q2aQAAAABJRU5ErkJggg==",self.location),j=J(()=>{const r=_.value||"en";return ke.find(p=>p.key===r).image}),R=J(()=>{const r=te.find(o=>(o.key==="mbuy"?"argos":o.key)===C);return r||te[0]}),L=new URL("/www/png/name-593a7e78.png",self.location),X=new URL("/www/png/name-ae6e9405.png",self.location),F=new URL("/www/png/name-8130147b.png",self.location),m=new URL("/www/png/name-dab02cab.png",self.location),N=new URL("/www/png/name-ca360226.png",self.location),Y=[L.href,X.href,F.href,m.href,N.href],D=i(!1),z=["email","phoneNum"],v=i(0),V=i(!1),P=localStorage.getItem("areaCode")?localStorage.getItem("areaCode"):44,T=i(P),c=me({username:"",password:""}),t=r=>{if(r!==v.value){v.value=r;const o=v.value==0?"storeUserName":"storeMobile",p=localStorage.getItem(o);c.username=p||"",c.password=""}},a=i(!1),d=()=>{const r=v.value===0?"entryEmail":"entryPhone";if(c.username==="")return I(l(r)),!1;if(c.password==="")return I(l("entryPassword")),!1;if(c.password.length<6||c.password.length>20)return I(l("setPasswordTips")),!1;if(b.value&&!w.value)return I(`${l("\u6211\u5DF2\u9605\u8BFB\u5E76\u540C\u610F")}\u300A${l("\u7528\u6237\u534F\u8BAE")}\u300B`),!1;["hive","argos"].includes(C)?g():["tiktok-wholesale"].includes(C)?a.value=!0:D.value=!0},g=()=>{D.value=!1,V.value=!0,Se({username:v.value==0?c.username:`${T.value} ${c.username}`,password:c.password}).then(async r=>{localStorage.removeItem("storeUserName"),localStorage.removeItem("storeMobile");const o=v.value==0?"storeUserName":"storeMobile";localStorage.setItem(o,c.username),localStorage.setItem("loginType",v.value),await h[ye](r),await Ae().then(p=>{p.id?localStorage.setItem("sellerId",p.id):localStorage.removeItem("sellerId")}).catch(()=>{V.value=!1}),V.value=!1,A.setShowNotic(!0),I.success(l("loginSuc")),$.push("/shop")}).catch(r=>{V.value=!1,console.log(r)})},x=()=>{const{hostname:r,origin:o}=window.location,p=r==="localhost"?"https://tiktok.tkshops.shop/promote/#/":`${o}/promote/#/`;window.open(`${p}?lang=${_.value}`)},w=i(!1),G=i(!1);return ve(()=>{h.logout()}),pe(()=>{const r=localStorage.getItem("loginType");v.value=r?Number(r):0;const o=v.value==0?"storeUserName":"storeMobile",p=localStorage.getItem(o);c.username=p||""}),(r,o)=>{const p=ge,ae=ee;return S(),U("div",{style:we({"background-image":"url("+k.value.href+")"}),class:"login-register-content"},[y(Qe,{modelValue:a.value,"onUpdate:modelValue":o[0]||(o[0]=n=>a.value=n),onDone:g},null,8,["modelValue"]),y(Me,{modelValue:G.value,"onUpdate:modelValue":o[1]||(o[1]=n=>G.value=n),onDone:o[2]||(o[2]=n=>w.value=!0)},null,8,["modelValue"]),y(s(be),{successText:s(l)("vertifyPass"),failText:s(l)("vertifuFail"),sliderText:s(l)("vertifyTips"),imgs:Y,show:D.value,onSuccess:g},null,8,["successText","failText","sliderText","show"]),e("div",je,[e("h2",null,u(s(l)("login")),1),e("div",{class:M(["language",{"is-ar":s(f)}]),onClick:o[3]||(o[3]=n=>s($).push("/language"))},[e("img",{src:s(j).href,alt:""},null,8,Xe),e("img",{src:s(Q).href,alt:""},null,8,Fe)],2)]),e("div",Ye,[e("img",{src:s(R).logo.href,alt:""},null,8,ze),e("h2",null,u(s(R).name),1)]),e("div",Ge,[(S(),U(fe,null,_e(z,(n,H)=>e("div",{key:H,class:M([{active:H===v.value},"item"]),onClick:io=>t(H)},u(s(l)(n)),11,He)),64))]),e("div",Je,[v.value===0?(S(),U("div",Ze,[e("div",We,u(s(l)("email")),1),e("div",Ke,[y(Z,{modelValue:c.username,"onUpdate:modelValue":o[4]||(o[4]=n=>c.username=n),type:"text",placeholder:s(l)("entryEmail"),clear:""},null,8,["modelValue","placeholder"])])])):E("v-if",!0),v.value===1?(S(),U("div",qe,[e("div",eo,u(s(l)("phoneNum")),1),e("div",oo,[y(Z,{modelValue:c.username,"onUpdate:modelValue":o[5]||(o[5]=n=>c.username=n),codeNum:T.value,"onUpdate:codeNum":o[6]||(o[6]=n=>T.value=n),type:"tel",placeholder:s(l)("entryPhone"),clear:"","area-code":""},null,8,["modelValue","codeNum","placeholder"])])])):E("v-if",!0),e("div",to,[e("div",so,u(s(l)("password")),1),e("div",ao,[y(Z,{modelValue:c.password,"onUpdate:modelValue":o[7]||(o[7]=n=>c.password=n),type:"password",placeholder:s(l)("entryPassword"),clear:"","show-password":""},null,8,["modelValue","placeholder"])])]),e("div",{class:M(["link-content",{"is-ar":s(f)}])},[e("p",null,[O(u(s(l)("\u5982\u679C\u60A8\u6CA1\u6709\u8D26\u53F7"))+", ",1),e("span",{class:"link",onClick:x},u(s(l)("\u70B9\u51FB\u6CE8\u518C")),1)]),e("p",{onClick:o[8]||(o[8]=(...n)=>s(oe)&&s(oe)(...n)),class:"link"},u(s(l)("forgetPassword")),1)],2),s(b)?(S(),U("div",{key:2,class:M(["agree-content",{"is-ar":s(f)}])},[e("div",{class:"check",onClick:o[9]||(o[9]=n=>w.value=!w.value)},[w.value?(S(),he(p,{key:0,name:"success",size:12})):E("v-if",!0)]),e("p",null,[e("span",{onClick:o[10]||(o[10]=n=>w.value=!w.value)},u(s(l)("\u6211\u5DF2\u9605\u8BFB\u5E76\u540C\u610F")),1),e("span",{class:"link",onClick:o[11]||(o[11]=n=>G.value=!0)},"\u300A"+u(s(l)("\u7528\u6237\u534F\u8BAE"))+"\u300B",1)])],2)):E("v-if",!0),e("div",lo,[y(ae,{type:"custom",loading:V.value,block:"",onClick:d},{default:q(()=>[O(u(s(l)("login")),1)]),_:1},8,["loading"])])])],4)}}},yo=W(no,[["__scopeId","data-v-2bf2fc29"],["__file","D:/caishen/mall-app-h5-vue/mall-app-h5-vue/src/views/login/index.vue"]]);export{yo as default};
