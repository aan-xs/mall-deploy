System.register(["./index-legacy-12f59ca9.js","./index-legacy-d383b90f.js","./index-legacy-8552e0cd.js","./index-legacy-cc45220b.js","./index-legacy-69552f3f.js","./index-legacy-1ebd2713.js","./index-legacy-930f039b.js","./search-icon-legacy-91a4d779.js","./more-legacy-4ed4bf86.js","./editProfit-legacy-b4845c64.js","./product.api-legacy-71af45a5.js","./index-legacy-af0fee30.js","./use-id-legacy-6f9d78c1.js","./index-legacy-9266d904.js","./index-legacy-c1c4e6fb.js","./index-legacy-79a1f34e.js","./index-legacy-018c693b.js","./index-legacy-ea35d04f.js","./function-call-legacy-7d98b1fd.js","./index-legacy-bd06ca73.js","./stringify-legacy-63788738.js","./___vite-browser-external_commonjs-proxy-legacy-c304f5c0.js"],(function(e,t){"use strict";var a,i,l,n,s,o,c,r,d,p,f,v,g,u,h,b,x,m,y,k,w,A,j,_,C,z,L,S,U,N,O,E,J,F,G,I,T,V,B,H,R,Y,q,M=document.createElement("style");return M.textContent="[data-v-77847b5f] .van-field__body{padding-right:10px}.search-container[data-v-77847b5f]{padding-top:50px}.search-container.is-ar[data-v-77847b5f] .van-field__left-icon{margin-right:0;margin-left:8px}.search-container.is-ar[data-v-77847b5f] .van-search__content{padding-left:0;padding-right:12px}.search-container.is-ar[data-v-77847b5f] .van-field__control{text-align:right}.search-container.is-ar .search-history>.title>.clear>img[data-v-77847b5f]{margin-right:0;margin-left:5px}.search-container.is-ar .product-info[data-v-77847b5f]{padding-left:0;padding-right:10px}.search-container[data-v-77847b5f] .van-field__left-icon{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:16px;margin-right:8px}.search-container[data-v-77847b5f] .van-field__left-icon>img{width:100%;height:auto}.search-container[data-v-77847b5f] .van-nav-bar__left{padding-right:10px!important}.search-container[data-v-77847b5f] .van-nav-bar__title{width:73.6%!important;max-width:73.6%!important;position:relative}.search-container[data-v-77847b5f] .van-search{padding:0!important}.search-container[data-v-77847b5f] .van-search .van-search__content{background-color:#fff}.search-container .search-btn[data-v-77847b5f]{font-size:12px;color:#333}.search-container .search-history[data-v-77847b5f]{padding:0 15px}.search-container .search-history>.title[data-v-77847b5f]{padding:25px 0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;font-size:14px;color:#000}.search-container .search-history>.title>.clear[data-v-77847b5f]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.search-container .search-history>.title>.clear>img[data-v-77847b5f]{width:14px;height:auto;margin-right:5px}.search-container .search-history>.title>.clear>p[data-v-77847b5f]{font-size:14px;color:#333}.search-container .search-history>.content[data-v-77847b5f]{overflow:hidden}.search-container .search-history>.content.no[data-v-77847b5f]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;font-size:14px;color:#999}.search-container .search-history>.content>.item[data-v-77847b5f]{float:left;padding:4px 15px;background-color:#fff;border-radius:5px;color:#999;font-size:12px;margin-right:14px;margin-bottom:22px}.search-container .search-tips-content>.item[data-v-77847b5f]{padding:23px 15px;border-bottom:1px solid #eee;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.search-container .search-tips-content>.item .van-icon[data-v-77847b5f]{margin-right:5px}.search-container .search-tips-content>.item>p[data-v-77847b5f]{color:#333;font-size:12px}.search-container .shop-list-content[data-v-77847b5f]{padding:20px 15px}.search-container .shop-list-content>.tips[data-v-77847b5f]{font-size:12px;color:#333}.search-container .shop-list-content>.tips>span[data-v-77847b5f]{color:#f89900}[data-v-77847b5f] .van-icon{font-size:18px;color:#1f2025}.delete-icon[data-v-77847b5f]{width:15px}.list .item[data-v-77847b5f]{background:#FFFFFF;border-radius:4px;margin-bottom:20px}.list .item .more-icon[data-v-77847b5f]{width:20px}.list .item .product-img[data-v-77847b5f]{width:100px}.list .item .left[data-v-77847b5f]{-webkit-box-align:center;-webkit-align-items:center;align-items:center}.list .item .left .product-info[data-v-77847b5f]{padding-left:10px;-webkit-box-flex:1;-webkit-flex:1 1;flex:1 1}.list .item .left .product-info .name[data-v-77847b5f]{font-size:14px;color:#333;height:50px;font-weight:700;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;-ms-text-overflow:ellipsis;text-overflow:ellipsis}.list .item .left .product-info .Specification[data-v-77847b5f]{font-size:12px;color:#999}.list .item .left .product-info .money[data-v-77847b5f]{color:var(--site-main-color);font-weight:700}.list .product-img-wrap[data-v-77847b5f]{position:relative}.list .delete-wrap[data-v-77847b5f]{padding:0 15px;background:rgba(0,0,0,.6);position:absolute;left:0;top:0;font-size:12px;color:#fff}.result-list[data-v-77847b5f]{position:fixed;top:46px;left:0;width:100%;background:#fff;z-index:2;font-size:14px}.result-list .result-list-item[data-v-77847b5f]{border-bottom:1px solid #EFF2F6}.item-more-content[data-v-77847b5f]{width:40px;position:relative}.item-more-content>.more[data-v-77847b5f]{width:40px;height:40px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start;padding-top:5px}\n",document.head.appendChild(M),{setters:[e=>{a=e._,i=e.i,l=e.u,n=e.l,s=e.ai,o=e.r,c=e.aY,r=e.q,d=e.cG,p=e.I,f=e.a$,v=e.c,g=e.e,u=e.w,h=e.F,b=e.x,x=e.y,m=e.a,y=e.t,k=e.h,w=e.aT,A=e.b,j=e.z,_=e.n,C=e.cH,z=e.T,L=e.o,S=e.aW,U=e.aG,N=e.V,O=e.R,E=e.S,J=e.cI},e=>{F=e.P},e=>{G=e.L},e=>{I=e.E},()=>{},()=>{},e=>{T=e.S},e=>{V=e._},e=>{B=e._},e=>{H=e.e},e=>{R=e.h,Y=e.g},e=>{q=e.c},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{}],execute:function(){const t=e=>(O("data-v-77847b5f"),e=e(),E(),e),M=t((()=>m("img",{class:"search-icon",src:V},null,-1))),P={key:0,class:"result-list pl-4 pr-4"},K=["onClick"],D={key:1,class:"search-history"},Q={class:"title"},X=t((()=>m("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAwCAYAAABqkJjhAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKESURBVHgB7Zk9btswFMefZHu0obGeqt7AtT14q3qC+gZtTpD4BE5u0Gzd7J6g6tipymbAH0lOEGXyGO2G7fwZUAmT6ItiqMAAf4BASnoE/6RIPurRIkU6nY6LxC1oHl0BUsCikvR6vSGSMa6OTLn9fh8iOVutVlMqQY1K0O12x5Zl/UL2A0mCcg6uYbvddtbr9T+SRLqHIfYHKpwIjyL02i1L88qi3EcShg/KjdDTP0mCMoJvULHLb/1ms3kUBEGu2Jh+v38KoWN+G223208Y1oXL2yQBm2CC2KjRaIxkxDIWi8UpPX0Np16vS80BKcH0/HNez2azkMrxN87sdjuXJJAV/O4cnOCHSYex6dm27eUZYxi4sPvOb0Pc/6YSYB58o6f122fDK68Mhg7zOb7FJlKtVruhAwAN/cqGhEMHAr6E8zAkmDMgYQVAS46JNwRG51TAKbwVqHssCDwTXoXMnSc6DjQg5F6J+MIeUkVgj7KP88vl8pU+s6zpxgjWjRGsmzopAk/J1mv2uxSkLX/8v8/LsimKcg/DrU/4dcnFv67Etv9zmz+kiLJgeKPPPOtQipsXNv1Sm/UkzKTTjRGsGyNYN0awboxg3RjBulEWjI1NkSBM9CItjbJgbB1H2LFdQPgoY697xGyYLSmivIGfz+fskMXLskF8wUfi0xtgJp1ujGDdJArGjL+L8zg0caki+N91TOISmNbDjxFxLEfHVBFCdJ/SovKJyxp6eIoCceEhwq8ThOxLHQ8UxIHYL6j3RHg2TTJMPVhEnJadUFbWuyLMySB47SW9S510WOxZa8+pevxWqzVMe5l7dDsYDNzNZnOCVisHQbLAcGBR/ylOSoMsu3tYs9QwhJVNvQAAAABJRU5ErkJggg==",alt:"",class:"delete-icon"},null,-1))),$={key:0,class:"content"},W=["onClick"],Z={key:2,class:"list ml-4 mr-4 mt-4 mb-4"},ee=["onClick"],te={class:"flex-1 flex left"},ae={class:"product-img-wrap w-20 h-20",style:{overflow:"hidden"}},ie=["src"],le={class:"product-info"},ne={class:"name"},se={class:"Specification"},oe={key:0,style:{"margin-right":"20px"}},ce={key:1},re={class:"money"},de={class:"item-more-content"},pe=["onClick"],fe=[t((()=>m("img",{class:"more-icon",src:B},null,-1)))],ve={__name:"index",setup(e){const t=i(),{t:a}=l(),O=n(),E=s(),V=o(E.query.id);let B=o(""),ve=o(1),ge=o(""),ue=o(!1);o({});const he=o([]),be=o([]),xe=o(!1),me=o(!1),ye=o(!1);let ke=o([]);const we=()=>{},Ae=new URL("/www/png/name-20d65991.png",self.location),je=o(null);c((()=>{je.value&&console.log(je.value)})),r((()=>{V.value/1==1?d("searchOne")&&(ke.value=d("searchOne")):d("searchTwo")&&(ke.value=d("searchTwo"))}));const _e=J((()=>{B.value.trim()?(ve.value=1,he.value=[],z.loading({forbidClick:!0,loadingType:"spinner"}),Je(),Ce()):z({message:a("请输入搜索关键字"),duration:2e3})}),500),Ce=()=>{const e=B.value.trim(),t=V.value/1==1?"searchOne":"searchTwo";if(""!=e)if(0==ke.value.length)ke.value.push(e),C(t,ke.value);else{const a=q(ke.value);a.unshift(e);const i=[...new Set(a)];ke.value=i,C(t,i)}},ze=()=>{V.value/1==1?C("searchOne",[]):C("searchTwo",[])},Le=()=>{B.value=""},Se=e=>{ke.value=[],V.value/1==1?C("searchOne",""):C("searchTwo","")},Ue=()=>{xe.value=!1,_e()},Ne=()=>{let e={pageNum:ve.value,pageSize:20,keyword:B.value};R(e).then((e=>{console.log(e),z.clear(),ve.value++;for(let t=0;t<e.pageList.length;t++)e.pageList[t].check=!1,he.value.push(e.pageList[t]);me.value=!1,e.pageList.length<20?(ve.value>1&&z(a("没有更多数据")),ye.value=!0):ve.value++}))},Oe=()=>{let e={name:B.value,categoryId:"",pageNum:ve.value,pageSize:20};Y(e).then((e=>{z.clear(),console.log("商家自己的商品",e);for(let t=0;t<e.pageList.length;t++)he.value.push(e.pageList[t]);me.value=!1,e.pageList.length<20?(ve.value>1&&z(a("没有更多数据")),ye.value=!0):ve.value++}))},Ee=o(null);V.value/1==2?Ee.value=Oe:Ee.value=Ne;const Je=()=>{console.log(123),Ee.value()};let Fe=o([]);const Ge=(e,t)=>{e.sellingPrice=t},Ie=()=>{ue.value=!1};return(e,i)=>{const l=p,n=T,s=f,o=I,c=G,r=F;return L(),v("div",{class:_(["search-container",{"is-ar":A(t)}])},[g(s,{fixed:"","left-arrow":"",onClickLeft:i[2]||(i[2]=()=>e.$router.back())},{title:u((()=>[x('        <van-search v-model="keyword" shape="round" @blur="record" @update:model-value="search" :clearable="false"'),x('          placeholder="请输入商品" @input="inputHandle">'),g(n,{modelValue:A(B),"onUpdate:modelValue":i[0]||(i[0]=e=>S(B)?B.value=e:B=e),shape:"round",clearable:!1,placeholder:e.$t("请输入商品"),onInput:we},{"left-icon":u((()=>[M])),"right-icon":u((()=>[A(B)?(L(),j(l,{key:0,name:"cross",onClick:Le,size:"14",color:"#333333"})):x("v-if",!0)])),_:1},8,["modelValue","placeholder"])])),right:u((()=>[m("div",{onClick:i[1]||(i[1]=(...e)=>A(_e)&&A(_e)(...e))},y(e.$t("搜索")),1)])),_:1}),be.value.length>0?(L(),v("div",P,[(L(!0),v(h,null,b(be.value,((e,t)=>(L(),v("div",{class:"result-list-item pt-2 pb-2",onClick:t=>(e=>{console.log("ssss",e),B.value="",be.value=[],ge.value=e.goodsId,ve.value=1,he.value=[],Je()})(e),key:t},y(e.name),9,K)))),128))])):x("v-if",!0),0==he.value.length?(L(),v("div",D,[m("div",Q,[m("p",null,y(e.$t("历史搜索")),1),k(m("div",{class:"clear",onClick:ze},[X,m("p",{onClick:Se},y(e.$t("清空")),1)],512),[[w,A(ke).length>0]])]),A(ke).length>0?(L(),v("div",$,[(L(!0),v(h,null,b(A(ke),((e,t)=>(L(),v("div",{key:t,class:"item",onClick:t=>(e=>{B.value=e,_e()})(e)},y(e),9,W)))),128))])):x("v-if",!0),A(ke).length?x("v-if",!0):(L(),j(o,{key:1,image:A(Ae).href,description:A(a)("noData")},null,8,["image","description"]))])):x("v-if",!0),he.value.length>0?(L(),v("div",Z,[g(r,{"loading-text":e.$t("加载中"),"loosing-text":e.$t("释放以刷新"),"pulling-text":e.$t("下拉以刷新"),modelValue:me.value,"onUpdate:modelValue":i[4]||(i[4]=e=>me.value=e),onRefresh:Ue},{default:u((()=>[g(c,{ref_key:"checkEl",ref:je,loading:me.value,"onUpdate:loading":i[3]||(i[3]=e=>me.value=e),finished:ye.value,"finished-text":e.$t("没有更多了"),onLoad:Je},{default:u((()=>[(L(!0),v(h,null,b(he.value,((e,t)=>(L(),v("div",{class:"item pl-3 pr-3 pb-3 pt-3 flex",onClick:t=>(e=>{V.value/1==1&&O.push({path:"/productPage/details",query:{item:JSON.stringify(e)}})})(e),key:t},[m("div",te,[m("div",ae,[m("img",{class:"product-img",src:e.imgUrl1},null,8,ie),x('                <div class="delete-wrap" @click.stop="deleteGood(item)">删除</div>')]),m("div",le,[m("div",ne,y(e.name),1),m("div",se,[e.categoryName?(L(),v("span",oe,y(e.categoryName),1)):x("v-if",!0),x(" <span>{{t('product.4')}}: {{ item.unit || '-' }}</span> "),V.value/1==1?(L(),v("span",ce,y(A(a)("sales"))+": "+y(e.soldNum),1)):x("v-if",!0)]),m("div",re,"$"+y(V.value/1==1?A(U)(e.sellingPrice):A(U)(e.systemPrice)),1)])]),m("div",de,[m("div",{class:"more",onClick:N((t=>(e=>{V.value/1==1?O.push({path:"/productPage/productEdit",query:{item:JSON.stringify(e)}}):(Fe.value=[],Fe.value.push(e.id),ue.value=!0)})(e)),["stop"])},fe,8,pe),V.value/1==1?(L(),j(l,{key:0,name:"arrow",size:"20px",style:{top:"50%",right:"0",position:"absolute","margin-top":"-10px"}})):x("v-if",!0)])],8,ee)))),128))])),_:1},8,["loading","finished","finished-text"])])),_:1},8,["loading-text","loosing-text","pulling-text","modelValue"])])):x("v-if",!0),g(H,{isEdit:A(ue),onUpdate:Ge,productArry:A(Fe),onClose:Ie},null,8,["isEdit","productArry"])],2)}}};e("default",a(ve,[["__scopeId","data-v-77847b5f"],["__file","D:/Users/zq/zq/mall-app-h5-vue/mall-app-h5-vue/src/views/search/index.vue"]]))}}}));
