import{_ as x,u as V,ak as k,r as p,m as D,o as v,c as y,a as o,t as C,b as l,h as b,v as w,F as B,x as S,n as N,s as T,T as h,c7 as I,e as L}from"./index-d71e1836.js";import{c as g}from"./countryList-016fc82e.js";const F={class:"code-content"},H={class:"title"},O={class:"search-content"},U={class:"content"},$=["placeholder"],j={class:"scroll-content"},z={class:"countries-content"},A=["onClick"],E={class:"name"},M={__name:"CountryDialog",props:{modelValue:{type:Boolean,default:!1},countries:{type:Array,default:()=>[]}},emits:["update:modelValue","done"],setup(c,{emit:u}){const f=c,{t:d}=V(),{countries:i}=k(f),a=p(""),r=D(()=>{const n=i.value.filter(t=>{const e=a.value.toLowerCase();return t.countryName.toLowerCase().indexOf(e)>-1});return a.value?n:i.value}),s=()=>{u("update:modelValue",!1)},_=n=>{u("done",n),s()};return(n,t)=>(v(),y("div",{class:N([{active:c.modelValue},"area-code-dialog"])},[o("div",F,[o("div",H,C(l(d)("selectNation")),1),o("div",O,[o("div",U,[b(o("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e),type:"text",placeholder:l(d)("entrynational")},null,8,$),[[w,a.value]])])]),o("div",j,[o("div",z,[(v(!0),y(B,null,S(l(r),e=>(v(),y("div",{key:e.code,class:"item",onClick:m=>_(e)},[o("div",E,C(e.countryName),1)],8,A))),128))])])]),o("div",{class:"code-bg",onClick:s})],2))}},R=x(M,[["__scopeId","data-v-e93d9969"],["__file","D:/caishen/mall-app-h5-vue/mall-app-h5-vue/src/components/country-select/components/CountryDialog.vue"]]);const q={__name:"index",props:{modelValue:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","done"],setup(c,{emit:u}){const f=c,{t:d}=V(),{modelValue:i}=k(f),a=p([]),r=p(!1),s=p(!1),_=D(()=>{if(r.value){const t=a.value.find(e=>e.id===i.value);if(t)return t.countryName;for(const e in g)if(Number(g[e].dialCode)===Number(i.value))return g[e].name;return""}else return""}),n=t=>{u("update:modelValue",t.id),u("done",t)};return T(async()=>{h.loading({duration:0,message:d("loading"),forbidClick:!0}),await I().then(t=>{a.value=t.data||[],r.value=!0,h.clear()}).catch(()=>{h.clear()})}),(t,e)=>(v(),y("div",null,[L(R,{modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=m=>s.value=m),countries:a.value,onDone:n},null,8,["modelValue","countries"]),o("div",{class:N([{empty:!l(_),disabled:c.disabled},"input-item"]),onClick:e[1]||(e[1]=m=>s.value=!0)},C(l(_)||l(d)("selectNation")),3)]))}},K=x(q,[["__scopeId","data-v-20a90537"],["__file","D:/caishen/mall-app-h5-vue/mall-app-h5-vue/src/components/country-select/index.vue"]]);export{K as C};
