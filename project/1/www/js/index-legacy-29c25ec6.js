System.register(["./index-legacy-e50317c7.js","./index-legacy-74e66066.js","./index-legacy-3ad63577.js","./index-legacy-e14460f3.js","./login.api-legacy-fd743ae4.js","./use-id-legacy-4e161192.js"],(function(e,t){"use strict";var n,a,i,o,l,c,d,r,s,u,v,f,p,b,g,x,m,y,h,w,k,j,_,I,C,V,q,z,S,F=document.createElement("style");return F.textContent=".verify-content[data-v-1ca2bd92]{min-height:100vh;background-color:#fff}.info-content[data-v-1ca2bd92]{padding:0 20px;color:#333}.info-content>.info-item[data-v-1ca2bd92]{margin-top:30px}.info-content>.info-item[data-v-1ca2bd92]:last-child{margin-top:20px}.info-content>.info-item>.gap[data-v-1ca2bd92]{margin-bottom:10px}.info-content>.info-item h2[data-v-1ca2bd92]{font-size:20px;font-weight:700}.info-content>.info-item p[data-v-1ca2bd92]{font-size:14px}.info-content .code-content[data-v-1ca2bd92]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-top:35px}.info-content .code-content.is-ar[data-v-1ca2bd92] .van-field__control{text-align:right}.info-content .code-content .van-cell[data-v-1ca2bd92]{width:185px;height:44px;border:1px solid #ddd;border-radius:4px}.info-content .code-content .van-cell[data-v-1ca2bd92]:after{border:none}.info-content .code-content>.btn[data-v-1ca2bd92]{-webkit-box-flex:1;-webkit-flex:1 1;flex:1 1;padding-left:15px}.info-content .code-content>.btn.is-ar[data-v-1ca2bd92]{padding-right:15px;padding-left:0}.info-content .code-content>.btn .van-button[data-v-1ca2bd92]{width:100%;height:44px;border-radius:4px;background-color:var(--site-main-color);border-color:var(--site-main-color)}.info-content>.change-ver-type[data-v-1ca2bd92]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;color:var(--site-main-color);margin-top:10px}.info-content>.change-ver-type>p[data-v-1ca2bd92]{font-size:14px;padding-left:5px;font-weight:700}.submit-content[data-v-1ca2bd92]{width:100%;position:fixed;left:0;bottom:60px;padding:0 20px}.submit-content .van-button[data-v-1ca2bd92]{width:100%;height:44px;border-radius:4px;background-color:var(--site-main-color);border-color:var(--site-main-color)}\n",document.head.appendChild(F),{setters:[e=>{n=e._,a=e.j,i=e.u,o=e.ai,l=e.l,c=e.r,d=e.q,r=e.i,s=e.m,u=e.c,v=e.e,f=e.w,p=e.a,b=e.t,g=e.b,x=e.y,m=e.f,y=e.n,h=e.T,w=e.cn,k=e.b1,j=e.o,_=e.cm,I=e.F,C=e.R,V=e.S},e=>{q=e.B},()=>{},e=>{z=e.F},e=>{S=e.a},()=>{}],execute:function(){const t={class:"verify-content"},F=(e=>(C("data-v-1ca2bd92"),e=e(),V(),e))((()=>p("div",{style:{height:"46px"}},null,-1))),U={class:"info-content"},B={class:"info-item"},D={class:"info-item"},E={class:"gap"},N={key:0},R={class:"submit-content"};e("default",n({__name:"index",setup(e){const n=a(),{t:C}=i(),V=o(),T=l(),A=c(1),G=c("44"),H=c(""),J=c(0),K=c(null),L=c(!1);A.value=V.query&&V.query.type?Number(V.query.type):1,d((()=>{clearInterval(K.value),K.value=null}));const M=r(),O=s((()=>{if(n.userInfo.token){const{email:e,phone:t}=n.userInfo;let a="";if(1===A.value){if(t){const e=t.split(" ");2===e.length?(G.value=e[0],a=e[1]):a=e[0]}}else a=e||"";return a}T.push("/login")})),P=()=>{if(J.value>0)return!1;const{email:e,phone:t}=n.userInfo;h.loading({duration:0,forbidClick:!0}),S({target:1===A.value?t:e}).then((()=>{h(C("sendSuccess")),J.value=60,K.value=setInterval((()=>{J.value>0?J.value=J.value-1:(J.value=0,clearInterval(K.value),K.value=null)}),1e3)})).catch((()=>{h.clear()}))},Q=async()=>{if(""===H.value)return void h(C("entryVerifyCode"));L.value=!0;const{email:e,phone:t}=n.userInfo,a={target:1===A.value?t:e,verifcode:H.value};1===A.value?a.phone=t:a.email=e,w(a).then((async e=>{await n.getUserInfo(!0),L.value=!1,T.back()})).catch((()=>{L.value=!1}))};return(e,n)=>{const a=k,i=z,o=q;return j(),u("div",t,[v(a,{fixed:!0},{title:f((()=>[m(b(1===A.value?g(C)("手机验证"):g(C)("邮箱验证")),1)])),_:1}),F,p("div",U,[p("div",B,[p("p",null,b(g(C)("为了保障您的账号安全，请验证后进行下一步操作")),1)]),p("div",D,[p("p",E,b(1===A.value?g(C)("当前绑定手机号"):g(C)("当前绑定邮箱")),1),p("h2",null,[1===A.value?(j(),u("span",N,"(+"+b(G.value)+")",1)):x("v-if",!0),m(b(g(_)(g(O),!1)),1)])]),p("div",{class:y(["code-content",{"is-ar":g(M)}])},[v(i,{modelValue:H.value,"onUpdate:modelValue":n[0]||(n[0]=e=>H.value=e),type:"tel",label:"",placeholder:g(C)("entryVerifyCode")},null,8,["modelValue","placeholder"]),p("div",{class:y(["btn",{"is-ar":g(M)}])},[v(o,{type:"primary",onClick:P},{default:f((()=>[m(b(g(C)("sendVerifyCode")),1),J.value?(j(),u(I,{key:0},[m("("+b(J.value)+")s",1)],64)):x("v-if",!0)])),_:1})],2)],2)]),p("div",R,[v(o,{type:"primary",loading:L.value,onClick:Q},{default:f((()=>[m(b(g(C)("confirm")),1)])),_:1},8,["loading"])])])}}},[["__scopeId","data-v-1ca2bd92"],["__file","D:/caishen/mall-app-h5-vue/mall-app-h5-vue/src/views/certified/index.vue"]]))}}}));
