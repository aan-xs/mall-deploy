System.register(["./index-legacy-8819b039.js","./index-legacy-c3a7fb7c.js","./index-legacy-1e270903.js","./index-legacy-25e51213.js","./index-legacy-2841566b.js","./index-legacy-9e965803.js","./search-icon-legacy-91a4d779.js","./more-legacy-4ed4bf86.js","./product.api-legacy-60265d04.js","./use-id-legacy-3f97160d.js","./index-legacy-6135f8bc.js","./stringify-legacy-7826cfa3.js","./___vite-browser-external_commonjs-proxy-legacy-07c6548e.js"],(function(e,t){"use strict";var i,a,o,l,n,s,d,r,c,p,u,b,f,m,g,v,x,h,w,k,y,j,_,P,S,$,I,z,C,N,L,V,M,q,G,U,E=document.createElement("style");return E.textContent='.take_off[data-v-690b902b]{position:absolute;left:50%;top:50%;margin-left:-30px;margin-top:-30px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);border:3px solid #e74343;color:#e74343;border-radius:50%;font-size:13px;width:60px;height:60px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.product[data-v-690b902b]{padding-top:20px;padding-bottom:50px}.product .search-wrap[data-v-690b902b]{margin:0 15px;border-radius:25px;height:45px;text-align:center;pointer-events:none}.product .search-wrap .search-icon[data-v-690b902b]{height:24px}.product .product-header[data-v-690b902b]{background:#ffffff;border-radius:4px;padding:20px 0;margin-top:20px}.product .product-header .moeny[data-v-690b902b]{font-weight:600;font-size:20px;height:24px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.product .product-header .moeny.icon[data-v-690b902b]{height:34px}.product .product-header .moeny.icon>img[data-v-690b902b]{height:34px;width:auto}.product .product-header .moeny.icon+.title[data-v-690b902b]{margin-top:0}.product .product-header .title[data-v-690b902b]{margin-top:10px;color:#999;font-size:12px}.product .product-header .after[data-v-690b902b]{position:relative}.product .product-header .after[data-v-690b902b]:after{position:absolute;height:100%;width:1px;background:#dddddd;content:"";right:0;top:0}.product .list .item[data-v-690b902b]{background:#ffffff;border-radius:4px;margin-bottom:20px}.product .list .item .more-icon[data-v-690b902b]{width:20px}.product .list .item .product-img[data-v-690b902b]{-webkit-flex-shrink:0;flex-shrink:0;width:100%;height:auto}.product .list .item .left[data-v-690b902b]{-webkit-box-align:center;-webkit-align-items:center;align-items:center}.product .list .item .left .product-info[data-v-690b902b]{padding-left:10px}.product .list .item .left .product-info .name-content[data-v-690b902b]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start;margin-bottom:5px}.product .list .item .left .product-info .name-content>p[data-v-690b902b]{-webkit-box-flex:1;-webkit-flex:1 1;flex:1 1;font-size:14px;color:#333;line-height:16px;font-weight:700;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;-ms-text-overflow:ellipsis;text-overflow:ellipsis;word-break:break-all}.product .list .item .left .product-info .name-content>.more[data-v-690b902b]{width:40px;height:30px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start;padding-top:5px}.product .list .item .left .product-info .name[data-v-690b902b]{font-size:14px;color:#333;width:180px;line-height:16px;font-weight:700;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;-ms-text-overflow:ellipsis;text-overflow:ellipsis;margin-bottom:5px}.product .list .item .left .product-info .Specification[data-v-690b902b]{font-size:12px;color:#999}.product .list .item .left .product-info .money[data-v-690b902b]{color:var(--site-main-color);font-weight:400}.product .list .item .left .product-info .money-content[data-v-690b902b]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;color:var(--site-main-color);font-weight:400}.product .list .item .left .product-info .money-content>.dis[data-v-690b902b]{font-size:14px;color:#ff3e3e}.product .list .product-img-wrap[data-v-690b902b]{position:relative;overflow:hidden}.product .list .delete-wrap[data-v-690b902b]{padding:0 15px;background:rgba(0,0,0,.6);position:absolute;left:0;top:0;font-size:12px;color:#fff}[data-v-690b902b] .van-search__content{background:#fff}[data-v-690b902b] .search-wrap .van-field__control{text-align:center}.list-content[data-v-690b902b]{min-height:60vh}.list-content.is-ar .item .left .product-info[data-v-690b902b]{padding-left:0;padding-right:10px}.list-content[data-v-690b902b] .van-list{min-height:60vh}\n',document.head.appendChild(E),{setters:[e=>{i=e._,a=e.d,o=e.i,l=e.u,n=e.ai,s=e.l,d=e.r,r=e.m,c=e.au,p=e.q,u=e.I,b=e.c,f=e.a,m=e.e,g=e.w,v=e.b,x=e.aW,h=e.t,w=e.f,k=e.n,y=e.o,j=e.av,_=e.F,P=e.x,S=e.y,$=e.V,I=e.aG,z=e.R,C=e.S},e=>{N=e.P},e=>{L=e.L},()=>{},()=>{},e=>{V=e.S},e=>{M=e._},e=>{q=e._},e=>{G=e.s,U=e.m},()=>{},()=>{},()=>{},()=>{}],execute:function(){const t=e=>(z("data-v-690b902b"),e=e(),C(),e),E={class:"product"},R=t((()=>f("img",{class:"search-icon",src:M},null,-1))),D={class:"flex ml-4 mr-4 product-header"},O={key:0,class:"moeny icon"},J=["src"],F={key:1,class:"moeny"},W={class:"title"},A={class:"moeny"},B={class:"title"},H={class:"hot-title ml-4 mr-4 mt-4 mb-4"},K=["onClick"],Q={class:"flex-1 flex left"},T={class:"product-img-wrap w-20 h-20"},X=["src"],Y={key:0,class:"take_off"},Z={class:"product-info flex-1"},ee={class:"name-content"},te=["onClick"],ie=[t((()=>f("img",{class:"more-icon",src:q},null,-1)))],ae={class:"Specification"},oe={style:{"margin-left":"20px"}},le={class:"money-content"},ne={key:0,class:"dis"},se=t((()=>f("div",{class:"safe-area-inset-bottom"},null,-1))),de=a({name:"ProductIndex"}),re=Object.assign(de,{setup(e){const t=o();l(),n();const i=s();let a=d("");d(!1);let z=d(1),C=d(0),M=d(0),q=d(0),de=d({});const re=d([]),ce=d(!1),pe=d(!1),ue=d(!1),be=r((()=>["int"].includes("tiktokMall"))),fe=d(!0);c((()=>{if(!fe.value){sessionStorage.getItem("productReload")&&(sessionStorage.removeItem("productReload"),me(!0));const e=sessionStorage.getItem("currentProductId");if(e){const t=re.value.findIndex((t=>t.id===e));sessionStorage.getItem("productDelete")?(re.value.splice(t,1),q.value-=1,sessionStorage.removeItem("productDelete")):(re.value=[],me(!0)),sessionStorage.removeItem("currentProductId")}}}));const me=e=>{e&&(z.value=1,ue.value=!1);let t={pageNum:z.value,pageSize:20};U(t).then((t=>{fe.value=!1,pe.value&&(pe.value=!1),C.value=t.evaluations,M.value=t.systemGoodsNum,q.value=t.sellerGoodsNum,re.value=e?t.pageList||[]:1===z.value?t.pageList:[...re.value,...t.pageList],re.value.length>=t.sellerGoodsNum?ue.value=!0:z.value++,ce.value=!1}))},ge=()=>{me(!0)},ve=()=>{i.push("/search?id=1")},xe=()=>{i.push("/productPage/list")},he=()=>{i.push("/productPage/comment")},we=d(""),ke=d("");return G().then((e=>{we.value=e.sysParaMin,ke.value=e.sysParaMax})),p((()=>{document.addEventListener("langChange",(()=>{ge()}))})),(e,o)=>{const l=V,n=u,s=L,d=N;return y(),b("div",E,[f("div",{onClick:ve},[m(l,{class:"search-wrap",disabled:"",modelValue:v(a),"onUpdate:modelValue":o[0]||(o[0]=e=>x(a)?a.value=e:a=e),placeholder:e.$t("请输入搜索商品名称"),clearable:""},{"left-icon":g((e=>[R])),_:1},8,["modelValue","placeholder"])]),f("div",D,[f("div",{class:"flex-1 text-center after",onClick:xe},[v(be)?(y(),b("div",O,[f("img",{src:v(j)("image/order/diamond.svg"),alt:""},null,8,J)])):(y(),b("div",F,h(v(M)),1)),f("div",W,[w(h(e.$t("商品库")),1),m(n,{name:"arrow"})])]),f("div",{class:"flex-1 text-center",onClick:he},[f("div",A,h(v(C)),1),f("div",B,[w(h(e.$t("评论")),1),m(n,{name:"arrow"})])])]),f("div",H,h(e.$t("店铺产品"))+"("+h(v(q))+") ",1),f("div",{class:k(["list ml-4 mr-4 mt-4 mb-4 list-content",{"is-ar":v(t)}])},[m(d,{modelValue:pe.value,"onUpdate:modelValue":o[2]||(o[2]=e=>pe.value=e),onRefresh:ge,"loading-text":e.$t("加载中"),"loosing-text":e.$t("释放以刷新"),"pulling-text":e.$t("下拉以刷新")},{default:g((()=>[m(s,{ref:"vanList",loading:ce.value,"onUpdate:loading":o[1]||(o[1]=e=>ce.value=e),"loading-text":e.$t("加载中"),finished:ue.value,"finished-text":e.$t("noMore"),onLoad:me},{default:g((()=>[(y(!0),b(_,null,P(re.value,((t,a)=>(y(),b("div",{class:"item pl-3 pr-3 pb-3 pt-3 flex",onClick:e=>(e=>{i.push({path:"/productPage/details",query:{item:JSON.stringify(e)}})})(t),key:a},[f("div",Q,[f("div",T,[f("img",{class:"product-img",src:t.imgUrl1},null,8,X),t.isShelf/1==0?(y(),b("div",Y,h(e.$t("已下架")),1)):S("v-if",!0),S('                <div class="delete-wrap" @click.stop="deleteGood(item)">'),S("                  {{ $t('删除') }}"),S("                </div>")]),f("div",Z,[f("div",ee,[f("p",null,h(t.name),1),f("div",{class:"more",onClick:$((e=>(e=>{e.sysParaMin=we.value,e.sysParaMax=ke.value,i.push({path:"/productPage/productEdit",query:{item:JSON.stringify(e)}}),de.value=e})(t)),["stop"])},ie,8,te)]),S(' <div class="name">{{ item.name }}</div> '),f("div",ae,[f("span",null,h(t.categoryName),1),f("span",oe,h(e.$t("销量"))+": "+h(v(I)(t.soldNum,0)),1)]),f("div",le,[f("p",null,"$"+h(v(I)(t.sellingPrice)),1),t.discountPrice?(y(),b("p",ne,h(e.$t("折扣价"))+" $"+h(v(I)(t.discountPrice)),1)):S("v-if",!0)])])]),S(' <div>\n              <img\n                class="more-icon"\n                @click.stop="openEdit(item)"\n                src="@/assets/imgs/product/more.png"\n              />\n            </div> ')],8,K)))),128))])),_:1},8,["loading","loading-text","finished","finished-text"])])),_:1},8,["modelValue","loading-text","loosing-text","pulling-text"]),se],2)])}}});e("default",i(re,[["__scopeId","data-v-690b902b"],["__file","D:/Users/zq/zq/mall-app-h5-vue/mall-app-h5-vue/src/views/product/index.vue"]]))}}}));
