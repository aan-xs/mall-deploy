System.register(["./index-legacy-e50317c7.js","./index-legacy-77bcacb7.js","./index-legacy-b84da2eb.js","./index-legacy-2046fa49.js","./index-legacy-88abe198.js","./product.api-legacy-56445531.js","./use-refs-legacy-2c8774ea.js","./index-legacy-f7de1178.js","./use-id-legacy-4e161192.js","./index-legacy-6e68e15e.js","./index-legacy-3a1d5adb.js","./stringify-legacy-4f88eed0.js","./___vite-browser-external_commonjs-proxy-legacy-6c4aadcd.js"],(function(e,a){"use strict";var t,o,i,s,n,r,l,c,d,m,u,g,p,v,f,b,h,x,w,y,k,_,A,j,V,z,F,C,S,U,E,D,I,M,N,P,$,R,T,H,L,G,O,X,B,Y,K,Z,J,Q,W,q,ee,ae,te,oe,ie,se,ne,re,le,ce,de,me,ue=document.createElement("style");return ue.textContent=':root{--van-rate-icon-size: 20px;--van-rate-icon-gutter: var(--van-padding-base);--van-rate-icon-void-color: var(--van-gray-5);--van-rate-icon-full-color: var(--van-danger-color);--van-rate-icon-disabled-color: var(--van-gray-5) }.van-rate{display:-webkit-inline-box;display:-webkit-inline-flex;display:inline-flex;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-flex-wrap:wrap;flex-wrap:wrap}.van-rate__item{position:relative}.van-rate__item:not(:last-child){padding-right:var(--van-rate-icon-gutter)}.van-rate__icon{display:block;width:1em;color:var(--van-rate-icon-void-color);font-size:var(--van-rate-icon-size)}.van-rate__icon--half{position:absolute;top:0;left:0;overflow:hidden}.van-rate__icon--full{color:var(--van-rate-icon-full-color)}.van-rate__icon--disabled{color:var(--van-rate-icon-disabled-color)}.van-rate--disabled{cursor:not-allowed}.van-rate--readonly{cursor:default}.img-icon[data-v-97bfea85]:last-child{margin-right:0}[data-v-97bfea85] .van-list{min-height:auto;height:auto}.comment[data-v-97bfea85]{padding-top:50px;min-height:100vh;background:#EFF2F6}.comment .comment-info[data-v-97bfea85]{background:#fff;margin-top:10px}.comment .comment-info.is-ar .score .user-img[data-v-97bfea85]{margin-right:0;margin-left:10px}.comment .comment-info.is-ar .product-info[data-v-97bfea85]{padding-left:0;padding-right:10px}.comment .comment-info.is-ar .product-info .name[data-v-97bfea85]{word-break:break-all}.comment .search-wrap[data-v-97bfea85]{margin:0 15px;border-radius:25px;height:45px;text-align:center}.comment .search-wrap .search-icon[data-v-97bfea85]{height:24px}.comment .product-header[data-v-97bfea85]{background:#FFFFFF;border-radius:4px;padding:20px 0;margin-top:20px}.comment .product-header .moeny[data-v-97bfea85]{font-weight:600;font-size:20px}.comment .product-header .title[data-v-97bfea85]{margin-top:10px;color:#999}.comment .product-header .after[data-v-97bfea85]{position:relative}.comment .product-header .after[data-v-97bfea85]:after{position:absolute;height:100%;width:1px;background:#DDDDDD;content:"";right:0;top:0}.comment .score[data-v-97bfea85]{-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.comment .score .user-name[data-v-97bfea85]{-webkit-box-align:center;-webkit-align-items:center;align-items:center;color:#999}.comment .score .user-img[data-v-97bfea85]{width:32px;height:32px;border-radius:50%;margin-right:10px}.comment .comment-text[data-v-97bfea85]{font-size:14px;color:#333;word-wrap:break-word}.comment .comment-time[data-v-97bfea85]{font-size:12px;color:#999}.comment .list .item[data-v-97bfea85]{border-radius:4px;-webkit-box-align:center;-webkit-align-items:center;align-items:center;box-shadow:0 0 10px 4px rgba(0,0,0,.05);background:#fff}.comment .list .item .more-icon[data-v-97bfea85]{width:20px}.comment .list .item .product-img[data-v-97bfea85]{width:100%;height:100%;object-fit:cover}.comment .list .item .left[data-v-97bfea85]{-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:12px;border-radius:4px}.comment .list .item .left .product-info[data-v-97bfea85]{padding-left:10px}.comment .list .item .left .product-info .name[data-v-97bfea85]{font-size:14px;color:#333;height:50px;font-weight:700;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;-ms-text-overflow:ellipsis;text-overflow:ellipsis}.comment .list .item .left .product-info .Specification[data-v-97bfea85]{font-size:12px;color:#999}.comment .list .item .left .product-info .money[data-v-97bfea85]{color:var(--site-main-color);font-weight:700}.comment .list .product-img-wrap[data-v-97bfea85]{position:relative}.comment .list .delete-wrap[data-v-97bfea85]{padding:0 15px;background:rgba(0,0,0,.6);position:absolute;left:0;top:0;font-size:12px;color:#fff}[data-v-97bfea85] .van-search__content{background:#fff}[data-v-97bfea85] .van-field__control{text-align:center}\n',document.head.appendChild(ue),{setters:[e=>{t=e.D,o=e.K,i=e.J,s=e.a6,n=e.Z,r=e.bG,l=e.d,c=e.aD,d=e.r,m=e.m,u=e.bK,g=e.ad,p=e.e,v=e.a9,f=e.I,b=e.aU,h=e.N,x=e.P,w=e._,y=e.i,k=e.u,_=e.c,A=e.w,j=e.a,V=e.b1,z=e.o,F=e.f,C=e.t,S=e.b,U=e.F,E=e.x,D=e.n,I=e.y,M=e.aG,N=e.b4,P=e.z,$=e.bL,R=e.bM,T=e.bN,H=e.bO,L=e.bP,G=e.bQ,O=e.bR,X=e.bS,B=e.bT,Y=e.bU,K=e.bV,Z=e.bW,J=e.bX,Q=e.bY,W=e.bZ,q=e.b_,ee=e.b$,ae=e.c0,te=e.c1,oe=e.c2,ie=e.c3},e=>{se=e.P},e=>{ne=e.L},e=>{re=e.E},e=>{le=e.I},e=>{ce=e.f},e=>{de=e.u},e=>{me=e.I},()=>{},()=>{},()=>{},()=>{},()=>{}],execute:function(){const[a,ue]=t("rate"),ge={size:o,icon:i("star"),color:String,count:s(5),gutter:o,readonly:Boolean,disabled:Boolean,voidIcon:i("star-o"),allowHalf:Boolean,voidColor:String,touchable:n,iconPrefix:String,modelValue:r(0),disabledColor:String};var pe=l({name:a,props:ge,emits:["change","update:modelValue"],setup(e,{emit:a}){const t=c(),[o,i]=de(),s=d(),n=()=>e.readonly||e.disabled||!e.touchable,r=m((()=>Array(+e.count).fill("").map(((a,t)=>function(e,a,t,o){if(e>=a)return{status:"full",value:1};if(e+.5>=a&&t&&!o)return{status:"half",value:.5};if(e+1>=a&&t&&o){const t=10**10;return{status:"half",value:Math.round((e-a+1)*t)/t}}return{status:"void",value:0}}(e.modelValue,t+1,e.allowHalf,e.readonly)))));let l,x,w=Number.MAX_SAFE_INTEGER,y=Number.MIN_SAFE_INTEGER;const k=()=>{x=b(s);const a=o.value.map(b);l=[],a.forEach(((a,t)=>{w=Math.min(a.top,w),y=Math.max(a.top,y),e.allowHalf?l.push({score:t+.5,left:a.left,top:a.top,height:a.height},{score:t+1,left:a.left+a.width/2,top:a.top,height:a.height}):l.push({score:t+1,left:a.left,top:a.top,height:a.height})}))},_=(a,t)=>{for(let e=l.length-1;e>0;e--)if(t>=x.top&&t<=x.bottom){if(a>l[e].left&&t>=l[e].top&&t<=l[e].top+l[e].height)return l[e].score}else{const o=t<x.top?w:y;if(a>l[e].left&&l[e].top===o)return l[e].score}return e.allowHalf?.5:1},A=t=>{e.disabled||e.readonly||t===e.modelValue||(a("update:modelValue",t),a("change",t))},j=e=>{n()||(t.start(e),k())},V=(a,t)=>{const{icon:o,size:s,color:n,count:r,gutter:l,voidIcon:c,disabled:d,voidColor:m,allowHalf:u,iconPrefix:g,disabledColor:b}=e,h=t+1,x="full"===a.status,w="void"===a.status,y=u&&a.value>0&&a.value<1;let j;return l&&h!==+r&&(j={paddingRight:v(l)}),p("div",{key:t,ref:i(t),role:"radio",style:j,class:ue("item"),tabindex:d?void 0:0,"aria-setsize":r,"aria-posinset":h,"aria-checked":!w,onClick:e=>{k(),A(u?_(e.clientX,e.clientY):h)}},[p(f,{size:s,name:x?o:c,class:ue("icon",{disabled:d,full:x}),color:d?b:x?n:m,classPrefix:g},null),y&&p(f,{size:s,style:{width:a.value+"em"},name:w?c:o,class:ue("icon",["half",{disabled:d,full:!w}]),color:d?b:w?m:n,classPrefix:g},null)])};return u((()=>e.modelValue)),g("touchmove",(e=>{if(!n()&&(t.move(e),t.isHorizontal())){const{clientX:a,clientY:t}=e.touches[0];h(e),A(_(a,t))}}),{target:s}),()=>p("div",{ref:s,role:"radiogroup",class:ue({readonly:e.readonly,disabled:e.disabled}),tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,"aria-readonly":e.readonly,onTouchstartPassive:j},[r.value.map(V)])}});const ve=x(pe),fe={class:"comment"},be={class:"list"},he={class:"flex score"},xe={class:"flex user-name"},we=["src"],ye={class:"text-black text-sm"},ke={class:"comment-text pt-3 pb-3",style:{color:"#666"}},_e={class:"flex overflow-x-auto mb-3"},Ae=["onClick","src"],je={class:"item py-1 flex"},Ve={class:"flex-1 flex left"},ze=["onClick"],Fe={class:"product-info flex-1"},Ce={class:"name"},Se={class:"flex justify-between"},Ue={class:"money"},Ee={class:"comment-time"},De={__name:"comment",setup(e){const a=y(),{t:t}=k(),o=d([]),i=d(!1),s=d(!1);let n=d(1);const r=d(!1),l=new URL("/www/png/name-20d65991.png",self.location),c=e=>{le([e])},m=()=>{o.value=[],s.value=!1,i.value=!1,n.value=1,g()},u=e=>{const a=[];return Object.keys(e).forEach((t=>{t.indexOf("imgUrl")>-1&&e[t]&&a.push(e[t])})),a},g=()=>{console.log(123);const e={pageNum:n.value,pageSize:20};ce(e).then((e=>{r.value=!1;const{pageInfo:a,pageList:t}=e;console.log(e);const l=t||[];l.map((e=>{e.avatar=e.avatar||Math.floor(20*Math.random())}));const c=l.sort(((e,a)=>a.createTime/1-e.createTime/1));o.value=o.value.concat(c),console.log("排序后的列表",o.value),n.value++,i.value=!1,s.value=l.length<a.pageSize})).catch((()=>{s.value=!0,i.value=!1,r.value=!1}))};function v(e){let a=e.substring(2,e.length-1);return e.replace(a,"***")}return(e,n)=>{const d=V,b=ve,h=f,x=me,w=re,y=ne,k=se;return z(),_("div",fe,[p(d,{fixed:""},{title:A((()=>[F(C(S(t)("product.23")),1)])),_:1}),j("div",be,[p(k,{modelValue:r.value,"onUpdate:modelValue":n[1]||(n[1]=e=>r.value=e),"loading-text":e.$t("加载中"),"loosing-text":e.$t("释放以刷新"),"pulling-text":e.$t("下拉以刷新"),onRefresh:m},{default:A((()=>[p(y,{loading:i.value,"onUpdate:loading":n[0]||(n[0]=e=>i.value=e),"loading-text":e.$t("加载中"),finished:s.value,"finished-text":o.value.length?S(t)("product.3"):"",onLoad:g},{default:A((()=>[o.value.length?(z(!0),_(U,{key:0},E(o.value,((e,o)=>{return z(),_("div",{class:D(["pl-3 pr-3 pt-4 comment-info pb-5",{"is-ar":S(a)}]),key:o},[j("div",he,[j("div",xe,[I('                <img class="user-img" :src="item.avatar ? `avatar/head_${item.avatar}.jpg` : `avatar/avatar_d.png`" />'),j("img",{class:"user-img",src:(i=e.avatar,new URL(Object.assign({"/src/assets/image/userAvatar/1.png":$,"/src/assets/image/userAvatar/10.png":R,"/src/assets/image/userAvatar/11.png":T,"/src/assets/image/userAvatar/12.png":H,"/src/assets/image/userAvatar/13.png":L,"/src/assets/image/userAvatar/14.png":G,"/src/assets/image/userAvatar/15.png":O,"/src/assets/image/userAvatar/16.png":X,"/src/assets/image/userAvatar/17.png":B,"/src/assets/image/userAvatar/18.png":Y,"/src/assets/image/userAvatar/19.png":K,"/src/assets/image/userAvatar/2.png":Z,"/src/assets/image/userAvatar/20.png":J,"/src/assets/image/userAvatar/3.png":Q,"/src/assets/image/userAvatar/4.png":W,"/src/assets/image/userAvatar/5.png":q,"/src/assets/image/userAvatar/6.png":ee,"/src/assets/image/userAvatar/7.png":ae,"/src/assets/image/userAvatar/8.png":te,"/src/assets/image/userAvatar/9.png":oe,"/src/assets/image/userAvatar/default.png":ie})[`/src/assets/image/userAvatar/${i}.png`],self.location).href)},null,8,we),j("span",ye,C(v(e.userName)),1)]),j("div",null,[p(b,{size:20,color:"#FFC93E",modelValue:e.rating,"onUpdate:modelValue":a=>e.rating=a},null,8,["modelValue","onUpdate:modelValue"])])]),j("div",ke,C(e.content||S(t)("用户未发表评论")),1),j("div",_e,[(z(!0),_(U,null,E(u(e),((e,t)=>(z(),_("img",{onClick:a=>c(e),class:D(["w-1/4 img-icon",S(a)?"ml-1.5":"mr-1.5"]),key:"imgs"+t,src:e,alt:""},null,10,Ae)))),128))]),j("div",je,[j("div",Ve,[e.goodsVo.imgUrl1?(z(),_("div",{key:0,class:"product-img-wrap w-28 h-28",onClick:a=>c(e.goodsVo.imgUrl1)},[p(x,{src:e.goodsVo.imgUrl1,class:"product-img"},{error:A((()=>[p(h,{name:"photo-fail"})])),_:2},1032,["src"]),I('                  <img class="product-img" style="object-fit: cover" :src="item.imgUrl1" />')],8,ze)):I("v-if",!0),j("div",Fe,[j("div",Ce,C(e.goodsVo.name),1),I('                  <div class="Specification">'),I("                    <span>{{ fullCategory(item.goodsVo.id) }}</span>"),I("                    <span>{{t('product.4')}}: {{item.goodsVo.unit}}</span>"),I(" <span>Sales: 1000</span> "),I("                  </div>"),j("div",Se,[j("div",Ue,"$"+C(S(M)(e.goodsVo.systemPrice)),1),j("div",Ee,C(S(N)(e.commentTime)),1)])])])])],2);var i})),128)):I("v-if",!0),o.value.length||i.value?I("v-if",!0):(z(),P(w,{key:1,image:S(l).href,description:S(t)("noData")},null,8,["image","description"])),I("          <van-empty :description=\"$t('noMore')\" v-else/>")])),_:1},8,["loading","loading-text","finished","finished-text"])])),_:1},8,["modelValue","loading-text","loosing-text","pulling-text"])])])}}};e("default",w(De,[["__scopeId","data-v-97bfea85"],["__file","D:/caishen/mall-app-h5-vue/mall-app-h5-vue/src/views/product/comment.vue"]]))}}}));
