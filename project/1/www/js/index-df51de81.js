import{_ as R,d as S,u as D,r,aG as L,c as f,e as h,w as v,bC as N,b1 as w,o as p,f as k,t as o,F as T,x as I,a as t,y,z as V,R as B,S as P}from"./index-d71e1836.js";import{P as $}from"./index-e1abf70a.js";import{L as b}from"./index-bc764d2b.js";import{E as z}from"./index-3362e25b.js";import"./use-id-7082c426.js";const C=S({name:"ShopMarketingRecord",setup(){const{t:e}=D(),n=new URL("/www/png/name-20d65991.png",self.location),u=r([]),g=r(!1),i=r(!0),l=r(!1),a=r({pageNum:1,pageSize:10}),m=async()=>{const c={...a.value};await N(c).then(s=>{const{pageList:d}=s||[];u.value=a.value.pageNum===1?d:[...u.value,...d],a.value.pageNum++,i.value=!1,g.value=!1,d.length<a.value.pageSize&&(l.value=!0)}).catch(()=>{i.value=!1,l.value=!0})};return{empytImg:n,refreshing:g,loading:i,finished:l,listData:u,t:e,getListData:m,onRefresh:()=>{l.value=!1,i.value=!0,a.value.pageNum=1,m()},numberStrFormat:L}}}),F=e=>(B("data-v-e0e40d57"),e=e(),P(),e),E=F(()=>t("div",{style:{height:"46px"}},null,-1)),U={key:0,class:"list-content"},G={class:"info-item"},M={class:"info-item"},j={class:"info-item"},q={class:"info-item"},A={class:"info-item"},H={class:"price"};function J(e,n,u,g,i,l){const a=w,m=z,_=b,c=$;return p(),f("div",null,[h(a,{fixed:!0},{title:v(()=>[k(o(e.t("shopBuyRecord")),1)]),_:1}),E,h(c,{modelValue:e.refreshing,"onUpdate:modelValue":n[1]||(n[1]=s=>e.refreshing=s),"pulling-text":e.t("pullingText"),"loosing-text":e.t("loosingText"),"loading-text":e.t("loading"),onRefresh:e.onRefresh},{default:v(()=>[h(_,{loading:e.loading,"onUpdate:loading":n[0]||(n[0]=s=>e.loading=s),finished:e.finished,"loading-text":e.t("loading"),"finished-text":e.listData.length?e.t("product.3"):"",onLoad:e.getListData},{default:v(()=>[e.listData.length?(p(),f("div",U,[(p(!0),f(T,null,I(e.listData,(s,d)=>(p(),f("div",{key:d,class:"item"},[t("div",G,[t("p",null,o(e.t("shopRecordName")),1),t("div",null,o(s.name),1)]),t("div",M,[t("p",null,o(e.t("shopRecordStartTime")),1),t("div",null,o(s.startTime),1)]),t("div",j,[t("p",null,o(e.t("shopRecordStopTime")),1),t("div",null,o(s.stopTime),1)]),t("div",q,[t("p",null,o(e.t("shopRecordPayType")),1),t("div",null,o(e.t("shopRecordPayName")),1)]),t("div",A,[t("p",null,o(e.t("shopRecordPrice")),1),t("div",H,o("$"+e.numberStrFormat(s.prize)),1)])]))),128))])):y("v-if",!0),!e.listData.length&&!e.loading?(p(),V(m,{key:1,image:e.empytImg.href,description:e.t("noData")},null,8,["image","description"])):y("v-if",!0)]),_:1},8,["loading","finished","loading-text","finished-text","onLoad"])]),_:1},8,["modelValue","pulling-text","loosing-text","loading-text","onRefresh"])])}const Y=R(C,[["render",J],["__scopeId","data-v-e0e40d57"],["__file","D:/caishen/mall-app-h5-vue/mall-app-h5-vue/src/views/shop/marketing/record/index.vue"]]);export{Y as default};
