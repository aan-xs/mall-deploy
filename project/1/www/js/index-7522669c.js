import{u as O,s as w,f as S}from"./stringify-4b0a72d6.js";var h=O,v=Object.prototype.hasOwnProperty,j=Array.isArray,n={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:h.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},N=function(i){return i.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},g=function(i,e){return i&&typeof i=="string"&&e.comma&&i.indexOf(",")>-1?i.split(","):i},L="utf8=%26%2310003%3B",P="utf8=%E2%9C%93",x=function(e,r){var l={},c=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,u=r.parameterLimit===1/0?void 0:r.parameterLimit,t=c.split(r.delimiter,u),s=-1,a,f=r.charset;if(r.charsetSentinel)for(a=0;a<t.length;++a)t[a].indexOf("utf8=")===0&&(t[a]===P?f="utf-8":t[a]===L&&(f="iso-8859-1"),s=a,a=t.length);for(a=0;a<t.length;++a)if(a!==s){var d=t[a],p=d.indexOf("]="),o=p===-1?d.indexOf("="):p+1,y,m;o===-1?(y=r.decoder(d,n.decoder,f,"key"),m=r.strictNullHandling?null:""):(y=r.decoder(d.slice(0,o),n.decoder,f,"key"),m=h.maybeMap(g(d.slice(o+1),r),function(b){return r.decoder(b,n.decoder,f,"value")})),m&&r.interpretNumericEntities&&f==="iso-8859-1"&&(m=N(m)),d.indexOf("[]=")>-1&&(m=j(m)?[m]:m),v.call(l,y)?l[y]=h.combine(l[y],m):l[y]=m}return l},A=function(i,e,r,l){for(var c=l?e:g(e,r),u=i.length-1;u>=0;--u){var t,s=i[u];if(s==="[]"&&r.parseArrays)t=[].concat(c);else{t=r.plainObjects?Object.create(null):{};var a=s.charAt(0)==="["&&s.charAt(s.length-1)==="]"?s.slice(1,-1):s,f=parseInt(a,10);!r.parseArrays&&a===""?t={0:c}:!isNaN(f)&&s!==a&&String(f)===a&&f>=0&&r.parseArrays&&f<=r.arrayLimit?(t=[],t[f]=c):a!=="__proto__"&&(t[a]=c)}c=t}return c},E=function(e,r,l,c){if(!!e){var u=l.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,t=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,a=l.depth>0&&t.exec(u),f=a?u.slice(0,a.index):u,d=[];if(f){if(!l.plainObjects&&v.call(Object.prototype,f)&&!l.allowPrototypes)return;d.push(f)}for(var p=0;l.depth>0&&(a=s.exec(u))!==null&&p<l.depth;){if(p+=1,!l.plainObjects&&v.call(Object.prototype,a[1].slice(1,-1))&&!l.allowPrototypes)return;d.push(a[1])}return a&&d.push("["+u.slice(a.index)+"]"),A(d,r,l,c)}},D=function(e){if(!e)return n;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?n.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?n.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:n.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:n.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:n.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:n.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:n.comma,decoder:typeof e.decoder=="function"?e.decoder:n.decoder,delimiter:typeof e.delimiter=="string"||h.isRegExp(e.delimiter)?e.delimiter:n.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:n.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:n.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:n.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:n.strictNullHandling}},H=function(i,e){var r=D(e);if(i===""||i===null||typeof i>"u")return r.plainObjects?Object.create(null):{};for(var l=typeof i=="string"?x(i,r):i,c=r.plainObjects?Object.create(null):{},u=Object.keys(l),t=0;t<u.length;++t){var s=u[t],a=E(s,l[s],r,typeof i=="string");c=h.merge(c,a,r)}return r.allowSparse===!0?c:h.compact(c)},Q=w,_=H,$=S,C={formats:$,parse:_,stringify:Q};export{C as l};
