import{_ as le,i as ne,u as ie,ai as ce,l as ue,r as a,q as de,B as re,ao as ve,m as pe,I as me,bq as fe,c as d,e as g,w as h,a as s,t as c,n as _,b as l,y as p,al as ge,T as Y,b1 as he,o as u,f as J,F as M,x as U,z as O,aG as _e,R as ye,S as Ae}from"./index-d71e1836.js";import{P as ke}from"./index-e1abf70a.js";import{L as be}from"./index-bc764d2b.js";import{c as Ie,g as we}from"./product.api-4494d699.js";import{e as Se}from"./editProfit-8a089850.js";import"./index-43614c31.js";import"./stringify-da9bcf3c.js";import"./___vite-browser-external_commonjs-proxy-74327c81.js";import"./index-2b37af5f.js";import"./index-bb63e648.js";import"./index-9f084461.js";import"./index-27d29771.js";import"./index-ac66dd73.js";import"./use-id-7082c426.js";import"./index-bdd8c117.js";import"./index-9cb38fbf.js";import"./function-call-3e6c5181.js";const xe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2RkExMEI5MkQ1NEMxMUVEQUQ2RDhGQzcyMkRFNDQ2RSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo2RkExMEI5M0Q1NEMxMUVEQUQ2RDhGQzcyMkRFNDQ2RSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjZGQTEwQjkwRDU0QzExRURBRDZEOEZDNzIyREU0NDZFIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjZGQTEwQjkxRDU0QzExRURBRDZEOEZDNzIyREU0NDZFIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8++lp+GgAAAvdJREFUeNrUmd1t4kAQxzfWvcepIE4FZwTvcSo4UoFNBSEV4FQQUwFOBXepAHhHiq8Clg7cATcbjXXLZNZe468w0l+KIIYf49n58tXxeBSXZo64QLsaj8dNrvdAAcgHXYNcVA46gCQoA21MH7Db7Wp/6Y8zQBXkFBQioI3lCP4OSvsMDwW7Rj3VABb4v+qHrkB7UNQ1tIveWSN4U/M0eK8LaBWrHxgK3C3fgp5BD6A7dUZQN6AR6BH0hrHNwe8nk8mizYMYGuJPwS5BCf5taxHqnnkvgQP53NTTJuAX9GhcE1jg56nwmjGen4PHV02gfQZY4u0+B5aDV+H0h94J21BxmDj7zQA/YL5tyyTG+5K8HgP4tC50TE50ASw7Km5zPKi6rQDctYWOmCzRJbAOnpEUu7CFXjCHrmtgVcZzDBV6ML0q6IAJi7ivBgjAJTqJ3oFS6Ijxct9G835oim1Hy8u6l9O+iTFM3khs+yZo2k9sBmyVae6e2kK/DwidkRC5N0H7zIWDGIaIJMWOhb5mqtWQ9lePay71OdgAfRfgix1s5SVCezbQ+zoX9GC3zNDxBfrA9NNDml4Fc8woX6AzZuoexDBT+IZMcgJNK+CvAb1sVZ0dpgoFNXcabVpYUdZPssfSti3sMDQC4mkJ8ZyVQSfk9acBMsmrbXvsaGmFtoWrHr08JwdQeTm1KS4xE9vznjLGos4Q4pDy+cLcsrDj6rcmB39b5mWujCdMmkk78ngBTGfT6Jze45FpWl6rxvozUtuHaHFrmhv2HbFovlsuvJsaasHn+2Xrg7IuTwp+FeaJ08W4jadc8X8hv2eqXl4X3OaZS4J5u2yuk9gnSA1UfelPTGWmCrvFHx8wKfbTcbgTqQ0ttA9tq+DkmKmS4kEReDayBbcdAjY4ls0ajmQF7B2twpjmZjahUndySfELR9ivbC2uOeD/qjNyI0p23LbgTZ8j6oODq0kimBQVS3juOWJVqLQF3WTXYSrvJvDRt33MXBIq0T8BBgA0uu1O4qhZPgAAAABJRU5ErkJggg==";const N=w=>(ye("data-v-4cde41b8"),w=w(),Ae(),w),Re={class:"product"},Ze={class:"dropdown"},De={class:"p-2.5 bg-white flex justify-between items-center w-full h-full"},Be={class:"text-xs"},Ne=N(()=>s("div",{class:"triangle"},null,-1)),je={class:"p-2.5 bg-white flex justify-between items-center w-full h-full"},Ee={class:"text-xs"},Ge=N(()=>s("div",{class:"triangle"},null,-1)),Ce={class:"classify-pop-content"},Qe={class:"title"},Le={class:"content"},Je=["onClick"],Me={class:"classify-pop-content"},Ue={class:"title"},Te={class:"content"},ze=["onClick"],Fe={class:"pl-3 pr-3"},Ve=["onClick"],We=N(()=>s("i",{class:"iconfont icon-duigoux"},null,-1)),Xe=[We],He={class:"flex-1 flex left"},Ye={class:"product-img-wrap"},Oe=["src"],Pe={class:"name"},qe={class:"Specification"},Ke={class:"money"},$e=N(()=>s("i",{class:"iconfont icon-duigoux"},null,-1)),es=[$e],ss={__name:"list",setup(w){const y=ne(),{t:n}=ie();ce();const P=ue();a(""),a(!1);let S=a(1),A=a(!1),j=a(!1),x=a([]);const m=a([]),E=a(!1),R=a(!1),T=a(!1),z=a(!1),r=a(0);de(()=>{sessionStorage.setItem("productReload",!0),q(),W()});const q=async()=>{let e={};await re().then(f=>{e=f||{}}),await ve().then(f=>{const b=Number(f.status);let I=b;b===2?I=3:b===3&&(I=2),e.authStatus=I});const{avatar:t,name:i,authStatus:v}=e;!t||!i?r.value=1:(v===0||v===1||v===2)&&(r.value=2),z.value=!0},K=()=>{const e=r.value===1?"/shop/settings":"/name";ge(e)},$=()=>{console.log("close"),j.value=!1},ee=()=>{x.value=[],m.value.map(e=>{e.check&&x.value.push(e.id)}),x.value.length?j.value=!0:Y(n("\u8BF7\u9009\u62E9\u5546\u54C1"))},F=()=>{S.value=1,m.value=[],G()},G=()=>{let e={pageNum:S.value,pageSize:20};k.value?e.secondaryCategoryId=k.value:e.categoryId=B.value,we(e).then(t=>{R.value&&(R.value=!1),S.value++;for(let i=0;i<t.pageList.length;i++)t.pageList[i].check=!1,m.value.push(t.pageList[i]);E.value=!1,t.pageList.length==0&&(T.value=!0)})},C=a([]),V=a(n("\u4E00\u7EA7\u5206\u7C7B")),Q=a(n("\u4E8C\u7EA7\u5206\u7C7B")),Z=a(!1),D=a(!1),B=a(""),k=a(""),W=()=>{Ie().then(e=>{const t=e||[];t.unshift({name:n("\u5168\u90E8\u5206\u7C7B"),categoryId:"",subList:[]}),C.value=t.filter(i=>i.name)})},se=pe(()=>{const e=C.value.find(i=>i.categoryId===B.value);let t=[{name:n("\u5168\u90E8\u5206\u7C7B"),categoryId:""}];if(e&&e.subList&&e.subList.length){const i=e.subList.filter(v=>v.name);t=[...t,...i]}return t}),X=(e,t)=>{t?(V.value=e.name,B.value=e.categoryId,Z.value=!1,Q.value=n("\u4E8C\u7EA7\u5206\u7C7B"),k.value=""):(Q.value=e.name,k.value=e.categoryId,D.value=!1),Y.loading({duration:0,forbidClick:!0}),A.value=!1,S.value=1,m.value=[],H(),G()},te=()=>{A.value=!A.value,m.value.map(e=>{A.value?e.check=!0:e.check=!1})},H=()=>{let e=0;return m.value.map(t=>{t.check&&(e=e+1)}),e},oe=()=>{P.push("/search?id=2")},ae=()=>{W(),F()};return(e,t)=>{const i=he,v=me,f=fe,b=be,I=ke;return u(),d("div",Re,[g(i,{fixed:""},{title:h(()=>[J(c(l(n)("product.2")),1)]),right:h(()=>[p(' <img @click="isShow = true" class="nav_filtering_icon" src="@/assets/imgs/product/nav_filtering.png" /> '),s("img",{onClick:oe,class:"nav_filtering_icon",src:xe})]),_:1}),s("div",Ze,[s("div",{class:"dropdownitem one h-10.5",onClick:t[0]||(t[0]=o=>Z.value=!0)},[s("div",De,[s("span",Be,c(V.value),1),Ne])]),s("div",{class:"dropdownitem one h-10.5",onClick:t[1]||(t[1]=o=>D.value=!0)},[s("div",je,[s("span",Ee,c(Q.value),1),Ge])])]),g(f,{show:Z.value,"onUpdate:show":t[2]||(t[2]=o=>Z.value=o),round:""},{default:h(()=>[s("div",Ce,[s("div",Qe,c(l(n)("\u4E00\u7EA7\u5206\u7C7B")),1),s("div",Le,[(u(!0),d(M,null,U(C.value,o=>(u(),d("div",{key:o.categoryId,class:"classify-item",onClick:L=>X(o,!0)},[J(c(o.name)+" ",1),B.value===o.categoryId?(u(),O(v,{key:0,name:"success",class:"yes"})):p("v-if",!0)],8,Je))),128))])])]),_:1},8,["show"]),g(f,{show:D.value,"onUpdate:show":t[3]||(t[3]=o=>D.value=o),round:""},{default:h(()=>[s("div",Me,[s("div",Ue,c(l(n)("\u4E8C\u7EA7\u5206\u7C7B")),1),s("div",Te,[(u(!0),d(M,null,U(l(se),o=>(u(),d("div",{key:o.categoryId,class:"classify-item",onClick:L=>X(o,!1)},[J(c(o.name)+" ",1),k.value===o.categoryId?(u(),O(v,{key:0,name:"success",class:"yes"})):p("v-if",!0)],8,ze))),128))])])]),_:1},8,["show"]),s("div",{class:_(["list mt-4 mb-4",l(y)?"ml-4":"mr-4"])},[g(I,{"loading-text":e.$t("\u52A0\u8F7D\u4E2D"),"loosing-text":e.$t("\u91CA\u653E\u4EE5\u5237\u65B0"),"pulling-text":e.$t("\u4E0B\u62C9\u4EE5\u5237\u65B0"),modelValue:R.value,"onUpdate:modelValue":t[5]||(t[5]=o=>R.value=o),onRefresh:F},{default:h(()=>[g(b,{loading:E.value,"onUpdate:loading":t[4]||(t[4]=o=>E.value=o),"loading-text":e.$t("\u52A0\u8F7D\u4E2D"),finished:T.value,"finished-text":l(n)("product.3"),onLoad:G},{default:h(()=>[(u(!0),d(M,null,U(m.value,(o,L)=>(u(),d("div",{class:"item pb-3 pt-3 flex",key:L},[s("div",Fe,[s("div",{class:_(["check-icon",[o.check?"check-true ":"check"]]),onClick:ts=>o.check=!o.check},Xe,10,Ve)]),s("div",He,[s("div",Ye,[s("img",{class:"w-20 h-20",style:{"object-fit":"contain"},src:o.imgUrl1},null,8,Oe)]),s("div",{class:_(["product-info",{"is-ar":l(y)}])},[s("div",Pe,c(o.name),1),s("div",qe,[s("span",null,c(o.categoryName),1),p(" <span>{{t('product.4')}}: {{item.unit || '-'}}</span> "),p(" <span>Sales: {{1000}}</span> ")]),s("div",Ke,"$"+c(l(_e)(o.systemPrice)),1)],2)])]))),128))]),_:1},8,["loading","loading-text","finished","finished-text"])]),_:1},8,["loading-text","loosing-text","pulling-text","modelValue"]),z.value?(u(),d("div",{key:0,class:_(["flex fixed-wrap",{"pl-3":!l(y)&&!r.value,"pr-3":l(y)&&!r.value}])},[r.value?p("v-if",!0):(u(),d("div",{key:0,class:"flex-1 flex",onClick:te},[s("div",{class:_(["check-icon",[l(A)?"check-true ":"check"]])},es,2),s("div",{class:_(l(y)?"pr-2":"pl-2")},c(l(n)("product.5"))+": "+c(H()),3)])),r.value?(u(),d("div",{key:2,class:"submit-but disabled",onClick:K},c(r.value===1?l(n)("product.34"):l(n)("product.35")),1)):(u(),d("div",{key:1,class:"submit-but",onClick:ee},c(l(n)("product.6")),1))],2)):p("v-if",!0)],2),p(` <van-action-sheet v-model:show="isShow"  :title="t('product.7')" :actions="categoryOneArry" @select="onSelect" /> `),g(Se,{isEdit:l(j),onUpdate:ae,productArry:l(x),onClose:$},null,8,["isEdit","productArry"])])}}},As=le(ss,[["__scopeId","data-v-4cde41b8"],["__file","D:/caishen/mall-app-h5-vue/mall-app-h5-vue/src/views/product/list.vue"]]);export{As as default};
