import{_ as M,d as Z,i as G,u as $,r as i,m as J,s as K,b4 as Q,c as m,e as f,w as E,T as I,b5 as W,b6 as X,b1 as Y,o as r,f as L,t as n,a as o,F as b,x as A,n as x,z as F,y as S,b7 as ee,b8 as t,R as ae,S as te}from"./index-a2850886.js";import{P as oe}from"./index-8fc155db.js";import{L as se}from"./index-ec0d0903.js";import{E as ne}from"./index-00da0b3a.js";import{T as ie,a as le}from"./index-22c1123e.js";/* empty css              */import"./index-49d61071.js";import{F as re}from"./index-937c8bb4.js";import{B as pe}from"./index-03c7d4c5.js";import{u as _e}from"./index-5f3de8ab.js";import{t as z,p as de}from"./config-0489190f.js";import"./use-id-e2fa0a8e.js";import"./index-72e1753d.js";import"./use-refs-04c93d9f.js";const ue=Z({name:"shopPromotion",setup(){const e=G(),{t:l}=$(),P=new URL("/www/png/name-20d65991.png",self.location),D=i([...de]),{toClipboard:O}=_e(),j=async s=>{try{await O(s),I(l("copySuccess"))}catch(u){console.error(u)}},R=i(0),V=J(()=>z[R.value].key),g=i([]),T=i(!1),c=i(!0),h=i(!1),_=i({pageNo:1,pageSize:10}),y=async s=>{const u=[];for(let v=0;v<s.length;v++){const p={...s[v]};if(isNaN(Number(s[v].avatar)))p.avatarImg=s[v].avatar,u.push(p);else{const H=s[v].avatar||"d";await ee(Object.assign({"../../../assets/image/avatar/head_0.jpg":()=>t(()=>import("./head_0-13bc653d.js"),[]),"../../../assets/image/avatar/head_1.jpg":()=>t(()=>import("./head_1-22d9944e.js"),[]),"../../../assets/image/avatar/head_10.jpg":()=>t(()=>import("./head_10-368e0071.js"),[]),"../../../assets/image/avatar/head_11.jpg":()=>t(()=>import("./head_11-a274e2c3.js"),[]),"../../../assets/image/avatar/head_12.jpg":()=>t(()=>import("./head_12-e917044c.js"),[]),"../../../assets/image/avatar/head_13.jpg":()=>t(()=>import("./head_13-c5a043d7.js"),[]),"../../../assets/image/avatar/head_14.jpg":()=>t(()=>import("./head_14-8367209e.js"),[]),"../../../assets/image/avatar/head_15.jpg":()=>t(()=>import("./head_15-abcc6ff5.js"),[]),"../../../assets/image/avatar/head_16.jpg":()=>t(()=>import("./head_16-22218ac0.js"),[]),"../../../assets/image/avatar/head_17.jpg":()=>t(()=>import("./head_17-b669c555.js"),[]),"../../../assets/image/avatar/head_18.jpg":()=>t(()=>import("./head_18-61399948.js"),[]),"../../../assets/image/avatar/head_19.jpg":()=>t(()=>import("./head_19-37e10b27.js"),[]),"../../../assets/image/avatar/head_2.jpg":()=>t(()=>import("./head_2-fe990859.js"),[]),"../../../assets/image/avatar/head_20.jpg":()=>t(()=>import("./head_20-ccc6700e.js"),[]),"../../../assets/image/avatar/head_3.jpg":()=>t(()=>import("./head_3-7add788f.js"),[]),"../../../assets/image/avatar/head_4.jpg":()=>t(()=>import("./head_4-5f4b5902.js"),[]),"../../../assets/image/avatar/head_5.jpg":()=>t(()=>import("./head_5-35ab6dbe.js"),[]),"../../../assets/image/avatar/head_6.jpg":()=>t(()=>import("./head_6-c9e5a862.js"),[]),"../../../assets/image/avatar/head_7.jpg":()=>t(()=>import("./head_7-950f62ed.js"),[]),"../../../assets/image/avatar/head_8.jpg":()=>t(()=>import("./head_8-1b07024a.js"),[]),"../../../assets/image/avatar/head_9.jpg":()=>t(()=>import("./head_9-65895fab.js"),[]),"../../../assets/image/avatar/head_d.jpg":()=>t(()=>import("./head_d-c93fb7eb.js"),[])}),`../../../assets/image/avatar/head_${H}.jpg`).then(q=>{p.avatarImg=q.default,u.push(p)})}}return u},a=async()=>{const s={..._.value,level:V.value};await W(s).then(async u=>{const p=await y(u||[]);g.value=_.value.pageNo===1?p:[...g.value,...p],_.value.pageNo++,c.value=!1,T.value=!1,p.length<_.value.pageSize&&(h.value=!0)}).catch(()=>{T.value=!1,c.value=!1,h.value=!0})},d=()=>{h.value=!1,c.value=!0,_.value.pageNo=1,a()},U=()=>{g.value=[],d()},{locale:N}=$(),B=i(N.value),w=i(0),k=i(0),C=i(0);return K(()=>{I.loading({duration:0,message:l("loading"),forbidClick:!0}),X().then(s=>{D.value[0].value=s.download&&s.code?`${s.download}/#?usercode=${s.code}&lang=${N.value}`:"",D.value[1].value=s.code||"",w.value=Number((Number(s.promoRate1)*100).toFixed(2)),k.value=Number((Number(s.promoRate2)*100).toFixed(2)),C.value=Number((Number(s.promoRate3)*100).toFixed(2)),I.clear()}).catch(()=>{I.clear()})}),{promotionDataRef:D,navActive:R,teamNav:z,refreshing:T,loading:c,finished:h,listData:g,empytImg:P,lang:B,t:l,formatZoneDate:Q,levelOne:w,levelTwo:k,levelThree:C,isArLang:e,copyHandle:j,navChange:U,getLevelData:a,onRefresh:d}}}),ve=e=>(ae("data-v-18227136"),e=e(),te(),e),me={class:"shop-promotion"},ge=ve(()=>o("div",{style:{height:"46px"}},null,-1)),ce={class:"promotion-info"},he={class:"intro-content"},fe=["innerHTML"],Ee={class:"team-content"},Te={key:0,class:"list-content"},Le={class:"avatar"},De=["src"],Re={class:"info"},Ie={class:"name"},Ve={class:"rebate"};function ye(e,l,P,D,O,j){const R=Y,V=pe,g=re,T=ie,c=le,h=ne,_=se,y=oe;return r(),m("div",me,[f(R,{fixed:!0},{title:E(()=>[L(n(e.t("shopPromotion")),1)]),_:1}),ge,f(y,{modelValue:e.refreshing,"onUpdate:modelValue":l[2]||(l[2]=a=>e.refreshing=a),"pulling-text":e.t("pullingText"),"loosing-text":e.t("loosingText"),"loading-text":e.t("loading"),onRefresh:e.onRefresh},{default:E(()=>[f(_,{loading:e.loading,"onUpdate:loading":l[1]||(l[1]=a=>e.loading=a),finished:e.finished,"loading-text":e.t("loading"),"finished-text":e.listData.length?e.t("product.3"):"",onLoad:e.getLevelData},{default:E(()=>[o("div",ce,[(r(!0),m(b,null,A(e.promotionDataRef,a=>(r(),m("div",{key:a.key,class:x(["item",{"is-ar":e.isArLang}])},[o("p",null,n(e.t(a.title)),1),f(g,{modelValue:a.value,"onUpdate:modelValue":d=>a.value=d,center:"",label:"",placeholder:""},{button:E(()=>[f(V,{onClick:d=>e.copyHandle(a.value),size:"small",type:"primary"},{default:E(()=>[L(n(e.t("copy")),1)]),_:2},1032,["onClick"])]),_:2},1032,["modelValue","onUpdate:modelValue"])],2))),128))]),o("div",he,[o("p",{innerHTML:e.t("promotionIntro",{level1:e.levelOne,level2:e.levelTwo,level3:e.levelThree})},null,8,fe),o("p",null,n(e.t("\u4EE5\u4E0B\u662F\u5206\u6210\u8BA1\u7B97\u516C\u5F0F\uFF1A")),1),o("p",null,[L(n(e.t("\u4E00\u7EA7"))+" "+n(e.t("\u597D\u53CB\u5206\u6210\u8BA1\u7B97\u516C\u5F0F\uFF1A\u4F63\u91D1 = \u5546\u54C1\u9500\u552E\u5229\u6DA6 x")),1),o("span",null,n(e.levelOne)+"%",1)]),o("p",null,[L(n(e.t("\u4E8C\u7EA7"))+" "+n(e.t("\u597D\u53CB\u5206\u6210\u8BA1\u7B97\u516C\u5F0F\uFF1A\u4F63\u91D1 = \u5546\u54C1\u9500\u552E\u5229\u6DA6 x")),1),o("span",null,n(e.levelTwo)+"%",1)]),o("p",null,[L(n(e.t("\u4E09\u7EA7"))+" "+n(e.t("\u597D\u53CB\u5206\u6210\u8BA1\u7B97\u516C\u5F0F\uFF1A\u4F63\u91D1 = \u5546\u54C1\u9500\u552E\u5229\u6DA6 x")),1),o("span",null,n(e.levelThree)+"%",1)]),o("p",null,n(e.t("\u6211\u4EEC\u63D0\u4F9B\u8BE6\u7EC6\u7684\u5206\u6210\u8BA1\u7B97\u516C\u5F0F\uFF0C\u4EE5\u4FBF\u60A8\u6E05\u6670\u4E86\u89E3\u4F63\u91D1\u7684\u8BA1\u7B97\u65B9\u5F0F\u3002\u6211\u4EEC\u9F13\u52B1\u60A8\u4E86\u89E3\u5E73\u53F0\u7684\u9080\u8BF7\u5236\u5EA6\u89C4\u5219\uFF0C\u4EE5\u4FBF\u66F4\u597D\u5730\u7BA1\u7406\u548C\u89C4\u5212\u60A8\u7684\u4F63\u91D1\u6536\u5165\u3002\u6211\u4EEC\u611F\u8C22\u60A8\u7684\u53C2\u4E0E\uFF0C\u5E76\u671F\u5F85\u4E0E\u60A8\u5171\u540C\u53D1\u5C55\u3002")),1)]),o("div",Ee,[f(c,{active:e.navActive,"onUpdate:active":l[0]||(l[0]=a=>e.navActive=a),"title-inactive-color":"#999999",onChange:e.navChange},{default:E(()=>[(r(!0),m(b,null,A(e.teamNav,a=>(r(),F(T,{key:a.key,title:e.t(a.title)},null,8,["title"]))),128))]),_:1},8,["active","onChange"]),e.listData.length?(r(),m("div",Te,[(r(!0),m(b,null,A(e.listData,(a,d)=>(r(),m("div",{key:d,class:"item"},[o("div",Le,[o("img",{src:a.avatarImg,alt:""},null,8,De)]),o("div",Re,[o("p",Ie,n(a.name),1),o("p",Ve,n(`${e.t("shopRebate")}\uFF1A${a.income||0}`),1),o("div",null,[o("p",null,n(`${e.t("shopCountOrder")}\uFF1A${a.orderCount}`),1),o("p",null,n(`${e.t("shopRegTime")}\uFF1A${e.formatZoneDate(a.createTime)}`),1)])])]))),128))])):S("v-if",!0),!e.listData.length&&!e.loading?(r(),F(h,{key:1,image:e.empytImg.href,description:e.t("noData")},null,8,["image","description"])):S("v-if",!0)])]),_:1},8,["loading","finished","loading-text","finished-text","onLoad"])]),_:1},8,["modelValue","pulling-text","loosing-text","loading-text","onRefresh"])])}const Be=M(ue,[["render",ye],["__scopeId","data-v-18227136"],["__file","D:/Users/zq/zq/mall-app-h5-vue/mall-app-h5-vue/src/views/shop/promotion/index.vue"]]);export{Be as default};
