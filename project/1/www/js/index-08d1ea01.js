import{_ as N,d as R,u as S,ai as V,r as l,aw as k,c,e as v,w as h,b1 as x,o as r,f as z,t as C,F as T,x as b,z as y,y as L,R as B,S as U,a as $}from"./index-a2850886.js";import{P as q}from"./index-8fc155db.js";import{L as E}from"./index-ec0d0903.js";import{E as G}from"./index-00da0b3a.js";import{G as F}from"./GoodsItem-291d2696.js";import{m as P}from"./product.api-aac5b431.js";import"./use-id-e2fa0a8e.js";import"./index-7522669c.js";import"./stringify-4b0a72d6.js";import"./___vite-browser-external_commonjs-proxy-349ceac5.js";const j=R({name:"ShopClass",components:{GoodsItem:F},setup(){const{t:e}=S(),s=V(),m=l(""),{name:d,id:p,sellerId:u}=s.query,g=new URL("/www/png/name-20d65991.png",self.location),i=l([]),n=l(!1),a=l(!0),o=l(!1),t=l({pageNum:1,pageSize:10}),_=()=>{if(d&&p&&u){const w={...t.value,categoryId:p,sellerId:u};P(w).then(D=>{const f=D.pageList||[];i.value=t.value.pageNum===1?f:[...i.value,...f],t.value.pageNum++,a.value=!1,n.value=!1,f.length<t.value.pageSize&&(o.value=!0)}).catch(()=>{o.value=!0,a.value=!1,n.value=!1})}else o.value=!0,a.value=!1,n.value=!1},I=()=>{o.value=!1,a.value=!0,t.value.pageNum=1,_()};return d&&p&&u&&(m.value=d),{t:e,pageTitle:m,listData:i,refreshing:n,loading:a,finished:o,empytImg:g,getListData:_,onRefresh:I}}}),A=e=>(B("data-v-7477504b"),e=e(),U(),e),H=A(()=>$("div",{style:{height:"46px"}},null,-1)),J={key:0,class:"list-content"};function K(e,s,m,d,p,u){const g=x,i=k("goods-item"),n=G,a=E,o=q;return r(),c("div",null,[v(g,{fixed:!0},{title:h(()=>[z(C(e.pageTitle),1)]),_:1}),H,v(o,{modelValue:e.refreshing,"onUpdate:modelValue":s[1]||(s[1]=t=>e.refreshing=t),"pulling-text":e.t("pullingText"),"loosing-text":e.t("loosingText"),"loading-text":e.t("loading"),onRefresh:e.onRefresh},{default:h(()=>[v(a,{loading:e.loading,"onUpdate:loading":s[0]||(s[0]=t=>e.loading=t),finished:e.finished,"loading-text":e.t("loading"),"finished-text":e.t("product.3"),onLoad:e.getListData},{default:h(()=>[e.listData.length?(r(),c("div",J,[(r(!0),c(T,null,b(e.listData,t=>(r(),y(i,{key:t.id,"goods-data":t},null,8,["goods-data"]))),128))])):L("v-if",!0),!e.listData.length&&!e.loading?(r(),y(n,{key:1,image:e.empytImg.href,description:e.t("noData")},null,8,["image","description"])):L("v-if",!0)]),_:1},8,["loading","finished","loading-text","finished-text","onLoad"])]),_:1},8,["modelValue","pulling-text","loosing-text","loading-text","onRefresh"])])}const oe=N(j,[["render",K],["__scopeId","data-v-7477504b"],["__file","D:/Users/zq/zq/mall-app-h5-vue/mall-app-h5-vue/src/views/shop/class/index.vue"]]);export{oe as default};
