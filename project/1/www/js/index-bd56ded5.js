import{_ as x,u as V,ak as k,r as p,m as D,o as v,c as y,a as o,t as C,b as l,h as b,v as w,F as z,x as B,n as N,s as q,T as h,c7 as S,e as T}from"./index-761f4b55.js";import{c as g}from"./countryList-016fc82e.js";const U={class:"code-content"},I={class:"title"},L={class:"search-content"},F={class:"content"},H=["placeholder"],O={class:"scroll-content"},$={class:"countries-content"},j=["onClick"],A={class:"name"},E={__name:"CountryDialog",props:{modelValue:{type:Boolean,default:!1},countries:{type:Array,default:()=>[]}},emits:["update:modelValue","done"],setup(c,{emit:u}){const f=c,{t:d}=V(),{countries:i}=k(f),s=p(""),r=D(()=>{const n=i.value.filter(t=>{const e=s.value.toLowerCase();return t.countryName.toLowerCase().indexOf(e)>-1});return s.value?n:i.value}),a=()=>{u("update:modelValue",!1)},_=n=>{u("done",n),a()};return(n,t)=>(v(),y("div",{class:N([{active:c.modelValue},"area-code-dialog"])},[o("div",U,[o("div",I,C(l(d)("selectNation")),1),o("div",L,[o("div",F,[b(o("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e),type:"text",placeholder:l(d)("entrynational")},null,8,H),[[w,s.value]])])]),o("div",O,[o("div",$,[(v(!0),y(z,null,B(l(r),e=>(v(),y("div",{key:e.code,class:"item",onClick:m=>_(e)},[o("div",A,C(e.countryName),1)],8,j))),128))])])]),o("div",{class:"code-bg",onClick:a})],2))}},M=x(E,[["__scopeId","data-v-e93d9969"],["__file","D:/Users/zq/zq/mall-app-h5-vue/mall-app-h5-vue/src/components/country-select/components/CountryDialog.vue"]]);const R={__name:"index",props:{modelValue:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","done"],setup(c,{emit:u}){const f=c,{t:d}=V(),{modelValue:i}=k(f),s=p([]),r=p(!1),a=p(!1),_=D(()=>{if(r.value){const t=s.value.find(e=>e.id===i.value);if(t)return t.countryName;for(const e in g)if(Number(g[e].dialCode)===Number(i.value))return g[e].name;return""}else return""}),n=t=>{u("update:modelValue",t.id),u("done",t)};return q(async()=>{h.loading({duration:0,message:d("loading"),forbidClick:!0}),await S().then(t=>{s.value=t.data||[],r.value=!0,h.clear()}).catch(()=>{h.clear()})}),(t,e)=>(v(),y("div",null,[T(M,{modelValue:a.value,"onUpdate:modelValue":e[0]||(e[0]=m=>a.value=m),countries:s.value,onDone:n},null,8,["modelValue","countries"]),o("div",{class:N([{empty:!l(_),disabled:c.disabled},"input-item"]),onClick:e[1]||(e[1]=m=>a.value=!0)},C(l(_)||l(d)("selectNation")),3)]))}},K=x(R,[["__scopeId","data-v-20a90537"],["__file","D:/Users/zq/zq/mall-app-h5-vue/mall-app-h5-vue/src/components/country-select/index.vue"]]);export{K as C};
