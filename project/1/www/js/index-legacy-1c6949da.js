System.register(["./index-legacy-8819b039.js"],(function(o,r){"use strict";var e,a,i,l,n,t,s,c,d,u,g,v,h,f,m,y,b,p,w,S;return{setters:[o=>{e=o.D,a=o.K,i=o.Z,l=o.J,n=o.d,t=o.r,s=o.aj,c=o.m,d=o.a9,u=o.a0,g=o.g,v=o.ba,h=o.aO,f=o.e,m=o.h,y=o.c4,b=o.ag,p=o.s,w=o.I,S=o.P}],execute:function(){const[r,z]=e("image"),x={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:a,height:a,radius:a,lazyLoad:Boolean,iconSize:a,showError:i,errorIcon:l("photo-fail"),iconPrefix:String,showLoading:i,loadingIcon:l("photo")};var I=n({name:r,props:x,emits:["load","error"],setup(o,{emit:r,slots:e}){const a=t(!1),i=t(!0),l=t(),{$Lazyload:n}=s().proxy,S=c((()=>{const r={width:d(o.width),height:d(o.height)};return u(o.radius)&&(r.overflow="hidden",r.borderRadius=d(o.radius)),r}));g((()=>o.src),(()=>{a.value=!1,i.value=!0}));const x=o=>{i.value=!1,r("load",o)},I=o=>{a.value=!0,i.value=!1,r("error",o)},L=(r,e,a)=>a?a():f(w,{name:r,size:o.iconSize,class:e,classPrefix:o.iconPrefix},null),P=()=>{if(a.value||!o.src)return;const r={alt:o.alt,class:z("img"),style:{objectFit:o.fit,objectPosition:o.position}};return o.lazyLoad?m(f("img",b({ref:l},r),null),[[y("lazy"),o.src]]):f("img",b({src:o.src,onLoad:x,onError:I},r),null)},$=({el:o})=>{const r=()=>{o===l.value&&i.value&&x()};l.value?r():p(r)},j=({el:o})=>{o!==l.value||a.value||I()};return n&&v&&(n.$on("loaded",$),n.$on("error",j),h((()=>{n.$off("loaded",$),n.$off("error",j)}))),()=>{var r;return f("div",{class:z({round:o.round,block:o.block}),style:S.value},[P(),i.value&&o.showLoading?f("div",{class:z("loading")},[L(o.loadingIcon,z("loading-icon"),e.loading)]):a.value&&o.showError?f("div",{class:z("error")},[L(o.errorIcon,z("error-icon"),e.error)]):void 0,null==(r=e.default)?void 0:r.call(e)])}}});o("I",S(I))}}}));
