import{d as se,_ as Z,u as W,o as S,c as V,a as e,t as u,b as s,e as y,w as K,f as E,n as x,r as i,g as le,h as ne,v as ie,T as I,i as re,j as ce,k as ue,l as de,m as H,p as me,q as ve,s as pe,I as ge,F as fe,x as _e,y as z,z as he,A as we,G as ye,B as ke,C as oe}from"./index-761f4b55.js";import{B as ee}from"./index-ca5f5a51.js";import{l as Ae}from"./config-f57d91a6.js";import{l as te}from"./config-6c4e82a2.js";import{I as J}from"./index-6c058bd8.js";import{g as be}from"./vue3-puzzle-vcode.es-ec9881fe.js";import Ce from"./index-1adb4078.js";import{n as Se}from"./login.api-fd592ee2.js";import"./index-72339518.js";import"./index-b282ead9.js";import"./use-id-3e94b561.js";const Ue={class:"code-content"},Ve={class:"title"},Ie={class:"scroll-content"},Ne={class:"btn"},Te=se({name:"AgreeDialog"}),Me=Object.assign(Te,{props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue","done"],setup(B,{emit:f}){const{t:l}=W(),_=()=>{f("update:modelValue",!1)},h=()=>{f("done"),f("update:modelValue",!1)};return(k,$)=>{const b=ee;return S(),V("div",{class:x([{active:B.modelValue},"area-code-dialog"])},[e("div",Ue,[e("div",Ve,u(s(l)("\u7528\u6237\u534F\u8BAE")),1),e("div",Ie,[y(Ce)]),e("div",Ne,[y(b,{type:"custom",size:"small",onClick:h},{default:K(()=>[E(u(s(l)("\u6211\u5DF2\u9605\u8BFB")),1)]),_:1})])]),e("div",{class:"code-bg",onClick:_})],2)}}}),xe=Z(Me,[["__scopeId","data-v-4bfed0a1"],["__file","D:/Users/zq/zq/mall-app-h5-vue/mall-app-h5-vue/src/views/login/components/AgreeDialog.vue"]]);const Be={class:"code-content"},$e={class:"title"},De={class:"input-content"},Re={class:"input"},Le=["placeholder"],Pe=["width","height"],ze=se({name:"NumberCodeDialog"}),Ee=Object.assign(ze,{props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue","done"],setup(B,{emit:f}){const l=B,{t:_}=W(),h=i(""),k=i(""),$=i(180),b=i(240),C=i(100),A=i(35),j=i(50),O=i(160),R=i(32),L=i(40),Q=i(40),X=i(100),m=(t,a)=>Math.floor(Math.random()*(a-t)+t),N=(t,a)=>{let d=m(t,a),g=m(t,a),M=m(t,a);return"rgb("+d+","+g+","+M+")"},q=()=>{let a=document.getElementById("s-canvas").getContext("2d");a.textBaseline="bottom",a.fillStyle=N($.value,b.value),a.fillRect(0,0,C.value,A.value);for(let d=0;d<k.value.length;d++)D(a,k.value[d],d);F(a),v(a)},D=(t,a,d)=>{t.fillStyle=N(j.value,O.value),t.font=m(R.value,L.value)+"px SimHei";let g=(d+1)*(C.value/(k.value.length+1)),M=m(L.value,A.value-5);var w=m(-15,15);t.translate(g,M),t.rotate(w*Math.PI/180),t.fillText(a,0,0),t.rotate(-w*Math.PI/180),t.translate(-g,-M)},F=t=>{for(let a=0;a<4;a++)t.strokeStyle=N(Q.value,X.value),t.beginPath(),t.moveTo(m(0,C.value),m(0,A.value)),t.lineTo(m(0,C.value),m(0,A.value)),t.stroke()},v=t=>{for(let a=0;a<10;a++)t.fillStyle=N(0,100),t.beginPath(),t.arc(m(0,C.value),m(0,A.value),1,0,2*Math.PI),t.fill()},U=()=>{k.value="",P()},P=()=>{const t=[0,1,2,3,4,5,6,7,8,9];let a="";for(let d=0;d<4;d++){const g=Math.floor(Math.random()*t.length);a+=t[g]}k.value=a,q()};le(()=>l.modelValue,t=>{t?U():h.value=""});const T=()=>{f("update:modelValue",!1)},r=()=>{if(!h.value){I(_("\u9A8C\u8BC1\u7801\u4E0D\u80FD\u4E3A\u7A7A"));return}h.value===k.value?(f("done"),T()):I(_("\u9A8C\u8BC1\u7801\u4E0D\u6B63\u786E"))};return(t,a)=>{const d=ee;return S(),V("div",{class:x([{active:B.modelValue},"number-code-dialog"])},[e("div",Be,[e("div",$e,u(s(_)("entryVerifyCode")),1),e("div",De,[e("div",Re,[ne(e("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=g=>h.value=g),placeholder:s(_)("verificationCode")},null,8,Le),[[ie,h.value]])]),e("div",{onClick:P},[e("canvas",{id:"s-canvas",width:C.value,height:A.value},null,8,Pe)])]),y(d,{type:"custom",block:"",onClick:r},{default:K(()=>[E(u(s(_)("\u786E\u5B9A")),1)]),_:1})]),e("div",{class:"code-bg",onClick:T})],2)}}}),je=Z(Ee,[["__scopeId","data-v-64e71d2a"],["__file","D:/Users/zq/zq/mall-app-h5-vue/mall-app-h5-vue/src/components/number-code-dialog/index.vue"]]);const Oe={class:"header-content"},Qe=["src"],Xe=["src"],qe={class:"logo-content"},Fe=["src"],Ye={class:"type-tab"},Ge=["onClick"],He={class:"form-content"},Je={key:0,class:"item"},Ze={class:"title"},We={class:"input-content"},Ke={key:1,class:"item"},eo={class:"title"},oo={class:"input-content"},to={class:"item"},so={class:"title"},ao={class:"input-content"},lo={class:"btn"},no={__name:"index",setup(B){const f=re(),{t:l,locale:_}=W(),h=ce(),k=ue(),$=de(),b="tiktokMall",C=i(new URL("/www/png/name-3ddd62dd.png",self.location)),A=H(()=>["familyMart"].includes(b)),j=new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACVSURBVHgB7ZPJDYAgEEU/iQVYAiXYkhVoB8QKLMkStAO1Au1g/N5ckeXigZcMSxgehAlA4ncoEcnZG0aOSJRSZcZmpXTmvEYc5/2UthKOeTyCC53407/emYuaMXrI9lwNG0woGIuj0C47SGsHWQUfxF4kgxDkuUg9QpF7kUbnd7NIj0XSX/nZVwJ/0kBRs7s5npC4sgFBUms+k2q2aQAAAABJRU5ErkJggg==",self.location),O=H(()=>{const c=_.value||"en";return Ae.find(p=>p.key===c).image}),R=H(()=>{const c=te.find(o=>(o.key==="mbuy"?"argos":o.key)===b);return c||te[0]}),L=new URL("/www/png/name-593a7e78.png",self.location),Q=new URL("/www/png/name-ae6e9405.png",self.location),X=new URL("/www/png/name-8130147b.png",self.location),m=new URL("/www/png/name-dab02cab.png",self.location),N=new URL("/www/png/name-ca360226.png",self.location),q=[L.href,Q.href,X.href,m.href,N.href],D=i(!1),F=["email","phoneNum"],v=i(0),U=i(!1),P=localStorage.getItem("areaCode")?localStorage.getItem("areaCode"):44,T=i(P),r=me({username:"",password:""}),t=c=>{if(c!==v.value){v.value=c;const o=v.value==0?"storeUserName":"storeMobile",p=localStorage.getItem(o);r.username=p||"",r.password=""}},a=i(!1),d=()=>{const c=v.value===0?"entryEmail":"entryPhone";if(r.username==="")return I(l(c)),!1;if(r.password==="")return I(l("entryPassword")),!1;if(r.password.length<6||r.password.length>20)return I(l("setPasswordTips")),!1;if(A.value&&!w.value)return I(`${l("\u6211\u5DF2\u9605\u8BFB\u5E76\u540C\u610F")}\u300A${l("\u7528\u6237\u534F\u8BAE")}\u300B`),!1;["hive","argos"].includes(b)?g():["tiktok-wholesale"].includes(b)?a.value=!0:D.value=!0},g=()=>{D.value=!1,U.value=!0,Se({username:v.value==0?r.username:`${T.value} ${r.username}`,password:r.password}).then(async c=>{localStorage.removeItem("storeUserName"),localStorage.removeItem("storeMobile");const o=v.value==0?"storeUserName":"storeMobile";localStorage.setItem(o,r.username),localStorage.setItem("loginType",v.value),await h[ye](c),await ke().then(p=>{p.id?localStorage.setItem("sellerId",p.id):localStorage.removeItem("sellerId")}).catch(()=>{U.value=!1}),U.value=!1,k.setShowNotic(!0),I.success(l("loginSuc")),$.push("/shop")}).catch(c=>{U.value=!1,console.log(c)})},M=()=>{const{hostname:c,origin:o}=window.location,p=c==="localhost"?"https://thsjbvh.site/promote/#/":`${o}/promote/#/`;window.open(`${p}?lang=${_.value}`)},w=i(!1),Y=i(!1);return ve(()=>{h.logout()}),pe(()=>{const c=localStorage.getItem("loginType");v.value=c?Number(c):0;const o=v.value==0?"storeUserName":"storeMobile",p=localStorage.getItem(o);r.username=p||""}),(c,o)=>{const p=ge,ae=ee;return S(),V("div",{style:we({"background-image":"url("+C.value.href+")"}),class:"login-register-content"},[y(je,{modelValue:a.value,"onUpdate:modelValue":o[0]||(o[0]=n=>a.value=n),onDone:g},null,8,["modelValue"]),y(xe,{modelValue:Y.value,"onUpdate:modelValue":o[1]||(o[1]=n=>Y.value=n),onDone:o[2]||(o[2]=n=>w.value=!0)},null,8,["modelValue"]),y(s(be),{successText:s(l)("vertifyPass"),failText:s(l)("vertifuFail"),sliderText:s(l)("vertifyTips"),imgs:q,show:D.value,onSuccess:g},null,8,["successText","failText","sliderText","show"]),e("div",Oe,[e("h2",null,u(s(l)("login")),1),e("div",{class:x(["language",{"is-ar":s(f)}]),onClick:o[3]||(o[3]=n=>s($).push("/language"))},[e("img",{src:s(O).href,alt:""},null,8,Qe),e("img",{src:s(j).href,alt:""},null,8,Xe)],2)]),e("div",qe,[e("img",{src:s(R).logo.href,alt:""},null,8,Fe),e("h2",null,u(s(R).name),1)]),e("div",Ye,[(S(),V(fe,null,_e(F,(n,G)=>e("div",{key:G,class:x([{active:G===v.value},"item"]),onClick:io=>t(G)},u(s(l)(n)),11,Ge)),64))]),e("div",He,[v.value===0?(S(),V("div",Je,[e("div",Ze,u(s(l)("email")),1),e("div",We,[y(J,{modelValue:r.username,"onUpdate:modelValue":o[4]||(o[4]=n=>r.username=n),type:"text",placeholder:s(l)("entryEmail"),clear:""},null,8,["modelValue","placeholder"])])])):z("v-if",!0),v.value===1?(S(),V("div",Ke,[e("div",eo,u(s(l)("phoneNum")),1),e("div",oo,[y(J,{modelValue:r.username,"onUpdate:modelValue":o[5]||(o[5]=n=>r.username=n),codeNum:T.value,"onUpdate:codeNum":o[6]||(o[6]=n=>T.value=n),type:"tel",placeholder:s(l)("entryPhone"),clear:"","area-code":""},null,8,["modelValue","codeNum","placeholder"])])])):z("v-if",!0),e("div",to,[e("div",so,u(s(l)("password")),1),e("div",ao,[y(J,{modelValue:r.password,"onUpdate:modelValue":o[7]||(o[7]=n=>r.password=n),type:"password",placeholder:s(l)("entryPassword"),clear:"","show-password":""},null,8,["modelValue","placeholder"])])]),e("div",{class:x(["link-content",{"is-ar":s(f)}])},[e("p",null,[E(u(s(l)("\u5982\u679C\u60A8\u6CA1\u6709\u8D26\u53F7"))+", ",1),e("span",{class:"link",onClick:M},u(s(l)("\u70B9\u51FB\u6CE8\u518C")),1)]),e("p",{onClick:o[8]||(o[8]=(...n)=>s(oe)&&s(oe)(...n)),class:"link"},u(s(l)("forgetPassword")),1)],2),s(A)?(S(),V("div",{key:2,class:x(["agree-content",{"is-ar":s(f)}])},[e("div",{class:"check",onClick:o[9]||(o[9]=n=>w.value=!w.value)},[w.value?(S(),he(p,{key:0,name:"success",size:12})):z("v-if",!0)]),e("p",null,[e("span",{onClick:o[10]||(o[10]=n=>w.value=!w.value)},u(s(l)("\u6211\u5DF2\u9605\u8BFB\u5E76\u540C\u610F")),1),e("span",{class:"link",onClick:o[11]||(o[11]=n=>Y.value=!0)},"\u300A"+u(s(l)("\u7528\u6237\u534F\u8BAE"))+"\u300B",1)])],2)):z("v-if",!0),e("div",lo,[y(ae,{type:"custom",loading:U.value,block:"",onClick:d},{default:K(()=>[E(u(s(l)("login")),1)]),_:1},8,["loading"])])])],4)}}},yo=Z(no,[["__scopeId","data-v-2bf2fc29"],["__file","D:/Users/zq/zq/mall-app-h5-vue/mall-app-h5-vue/src/views/login/index.vue"]]);export{yo as default};
