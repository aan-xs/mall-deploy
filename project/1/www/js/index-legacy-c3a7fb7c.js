System.register(["./index-legacy-8819b039.js"],(function(e,t){"use strict";var a,s,n,r,i,o,l,u,d,h,c,p,g,v,f,m,x=document.createElement("style");return x.textContent=":root{--van-pull-refresh-head-height: 50px;--van-pull-refresh-head-font-size: var(--van-font-size-md);--van-pull-refresh-head-text-color: var(--van-text-color-2);--van-pull-refresh-loading-icon-size: 16px }.van-pull-refresh{overflow:hidden}.van-pull-refresh__track{position:relative;height:100%;-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform}.van-pull-refresh__head{position:absolute;left:0;width:100%;height:var(--van-pull-refresh-head-height);overflow:hidden;color:var(--van-pull-refresh-head-text-color);font-size:var(--van-pull-refresh-head-font-size);line-height:var(--van-pull-refresh-head-height);text-align:center;-webkit-transform:translateY(-100%);transform:translateY(-100%)}.van-pull-refresh__loading .van-loading__spinner{width:var(--van-pull-refresh-loading-icon-size);height:var(--van-pull-refresh-loading-icon-size)}\n",document.head.appendChild(x),{setters:[e=>{a=e.D,s=e.a6,n=e.K,r=e.d,i=e.r,o=e.aC,l=e.p,u=e.aD,d=e.g,h=e.ad,c=e.e,p=e.O,g=e.s,v=e.aE,f=e.N,m=e.P}],execute:function(){const[t,x,D]=a("pull-refresh"),T=["pulling","loosing","success"],b={disabled:Boolean,modelValue:Boolean,headHeight:s(50),successText:String,pullingText:String,loosingText:String,loadingText:String,pullDistance:n,successDuration:s(500),animationDuration:s(300)};var w=r({name:t,props:b,emits:["change","refresh","update:modelValue"],setup(e,{emit:t,slots:a}){let s;const n=i(),r=i(),m=o(n),b=l({status:"normal",distance:0,duration:0}),w=u(),y=()=>{if(50!==e.headHeight)return{height:`${e.headHeight}px`}},_=()=>"loading"!==b.status&&"success"!==b.status&&!e.disabled,k=(a,s)=>{const n=+(e.pullDistance||e.headHeight);b.distance=a,b.status=s?"loading":0===a?"normal":a<n?"pulling":"loosing",t("change",{status:b.status,distance:a})},z=()=>{const{status:t}=b;return"normal"===t?"":e[`${t}Text`]||D(t)},H=()=>{const{status:e,distance:t}=b;if(a[e])return a[e]({distance:t});const s=[];return T.includes(e)&&s.push(c("div",{class:x("text")},[z()])),"loading"===e&&s.push(c(p,{class:x("loading")},{default:z})),s},S=e=>{s=0===v(m.value),s&&(b.duration=0,w.start(e))},V=e=>{_()&&S(e)},Y=()=>{s&&w.deltaY.value&&_()&&(b.duration=+e.animationDuration,"loosing"===b.status?(k(+e.headHeight,!0),t("update:modelValue",!0),g((()=>t("refresh")))):k(0))};return d((()=>e.modelValue),(t=>{b.duration=+e.animationDuration,t?k(+e.headHeight,!0):a.success||e.successText?(b.status="success",setTimeout((()=>{k(0)}),+e.successDuration)):k(0,!1)})),h("touchmove",(t=>{if(_()){s||S(t);const{deltaY:a}=w;w.move(t),s&&a.value>=0&&w.isVertical()&&(f(t),k((t=>{const a=+(e.pullDistance||e.headHeight);return t>a&&(t=t<2*a?a+(t-a)/2:1.5*a+(t-2*a)/4),Math.round(t)})(a.value)))}}),{target:r}),()=>{var e;const t={transitionDuration:`${b.duration}ms`,transform:b.distance?`translate3d(0,${b.distance}px, 0)`:""};return c("div",{ref:n,class:x()},[c("div",{ref:r,class:x("track"),style:t,onTouchstartPassive:V,onTouchend:Y,onTouchcancel:Y},[c("div",{class:x("head"),style:y()},[H()]),null==(e=a.default)?void 0:e.call(a)])])}}});e("P",m(w))}}}));
