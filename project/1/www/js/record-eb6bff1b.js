import{_ as P,u as $,i as E,r as _,c as u,e as f,w as m,a as e,b as a,b1 as M,o as i,f as O,t as n,F as U,x as q,n as x,V as F,b4 as A,aG as G,y,z as H,T as j,al as Z,R as J,S as K}from"./index-a2850886.js";import{P as Q}from"./index-8fc155db.js";import{L as W}from"./index-ec0d0903.js";import{E as X}from"./index-00da0b3a.js";import{k as Y}from"./exchange.api-cd32eb2c.js";import{u as ee}from"./index-5f3de8ab.js";import"./use-id-e2fa0a8e.js";const k=p=>(J("data-v-9394d17d"),p=p(),K(),p),se={class:"record"},te={class:"list-wrap"},ae={key:0},oe=["onClick"],le={class:"item"},ne={class:"label"},re=["onClick"],ie=k(()=>e("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},null,-1)),ce=k(()=>e("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},null,-1)),de=[ie,ce],_e={class:"item"},ue={class:"label"},pe={class:"value"},he={class:"item"},ve={class:"label"},ge={class:"value"},fe={class:"item"},me={class:"label"},xe={key:0,class:"item"},ye={class:"label"},we={__name:"record",setup(p){const{t}=$(),C=E(),b=new URL("/www/png/name-20d65991.png",self.location),c=_([]),d=_(!1),h=_(!1),v=_(!1);_(1);const{toClipboard:T}=ee(),S=l=>{var r;return(r={0:t("processing"),1:t("successful"),2:t("failure")}[l])!=null?r:""},V=async l=>{try{await T(l),j(t("copySuccess"))}catch(o){console.error(o)}},g=_({page_no:1}),w=()=>{const l={...g.value};Y(l).then(o=>{const r=o.elements||[];c.value=g.value.page_no===1?r:[...c.value,...r],g.value.page_no++,d.value=!1,h.value=!1,v.value=r.length<o.pageSize}).catch(()=>{v.value=!0,d.value=!1,h.value=!1})},L=()=>{v.value=!1,d.value=!0,g.value.page_no=1,w()},R=l=>{const o={order_no:l.order_no,isThirdParty:l.isThirdParty};l.state===2&&(o.r=l.failure_msg||"--"),Z({path:"/recharge/record-details",query:o})};return(l,o)=>{const r=M,B=X,D=W,I=Q;return i(),u("div",se,[f(r,{fixed:""},{title:m(()=>[O(n(a(t)("rechargeRecord")),1)]),_:1}),e("div",te,[f(I,{modelValue:h.value,"onUpdate:modelValue":o[1]||(o[1]=s=>h.value=s),"pulling-text":a(t)("pullingText"),"loosing-text":a(t)("loosingText"),"loading-text":a(t)("loading"),onRefresh:L},{default:m(()=>[f(D,{loading:d.value,"onUpdate:loading":o[0]||(o[0]=s=>d.value=s),finished:v.value,"loading-text":a(t)("loading"),"finished-text":c.value.length?a(t)("product.3"):"",onLoad:w},{default:m(()=>[c.value.length?(i(),u("ul",ae,[(i(!0),u(U,null,q(c.value,(s,N)=>(i(),u("li",{class:"px-2 mt-4",key:N,onClick:z=>R(s)},[e("div",le,[e("div",ne,n(a(t)("rechargeOrderNumber")),1),e("div",{class:x(["value",{"is-ar":a(C)}])},[e("span",null,n(s.order_no),1),(i(),u("svg",{onClick:F(z=>V(s.order_no),["stop"]),xmlns:"http://www.w3.org/2000/svg",width:"18",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-copy"},de,8,re))],2)]),e("div",_e,[e("div",ue,n(a(t)("rechargeOrderTime")),1),e("div",pe,n(a(A)(s.createTime)),1)]),e("div",he,[e("div",ve,n(a(t)("rechargeOrderAmount")),1),e("div",ge,n(a(G)(s.volume,["BTC","ETH"].includes(s.coin)?6:2))+" "+n(s.coin),1)]),e("div",fe,[e("div",me,n(a(t)("rechargeOrderStatus")),1),e("div",{class:x(["value",`color-${s.state}`])},n(S(s.state)),3)]),s.state===2?(i(),u("div",xe,[e("div",ye,n(l.$t("\u5931\u8D25\u539F\u56E0")),1),e("div",{class:x(["value",`color-${s.state}`])},n(s.failure_msg||"--"),3)])):y("v-if",!0)],8,oe))),128))])):y("v-if",!0),!c.value.length&&!d.value?(i(),H(B,{key:1,image:a(b).href,description:a(t)("noData")},null,8,["image","description"])):y("v-if",!0)]),_:1},8,["loading","finished","loading-text","finished-text"])]),_:1},8,["modelValue","pulling-text","loosing-text","loading-text"])])])}}},Re=P(we,[["__scopeId","data-v-9394d17d"],["__file","D:/Users/zq/zq/mall-app-h5-vue/mall-app-h5-vue/src/views/recharge/record.vue"]]);export{Re as default};
