import{d as Ce,_ as Ie,u as $e,k as kt,m as ne,r as a,o as u,c as r,a as e,b as s,t as n,e as P,F as Ne,x as xe,n as C,I as wt,av as f,j as st,i as ot,p as Nt,g as xt,y as x,f as W,C as Ct,w as Y,T as w,G as It,z as ie,Q as $t,ai as Tt,U as St,s as Me,aw as zt,O as Lt,A as le,cm as Ye,b6 as Dt,ao as At,aG as Pt,R as Vt,S as Mt}from"./index-d71e1836.js";import{N as Et}from"./index-5510de81.js";/* empty css              */import{u as Ht}from"./index-ad39d8a5.js";import{l as Ze}from"./config-f57d91a6.js";import{l as Ut,a as jt,r as Bt,b as Rt,p as Ot,c as Ft,d as Gt}from"./activity.api-52bb744b.js";import{B as at}from"./index-2b37af5f.js";import{I as Ee}from"./index-de44f94e.js";import{n as qt}from"./login.api-d786b76a.js";import{S as Wt,a as Qt}from"./index-425c94da.js";import"./index-27d29771.js";import"./index-ac66dd73.js";import"./use-id-7082c426.js";const Jt={class:"language-container"},Kt={class:"nation"},Xt=["src"],Yt=["onClick"],Zt=["src"],es=Ce({name:"LanguageChange"}),ts=Object.assign(es,{setup(b){const{locale:D}=$e(),E=kt(),m=ne(()=>{const h=D.value||"en";return Ze.find(I=>I.key===h)}),V=ne(()=>D.value||"en"),z=a(!1),R=h=>{const A=h==="ar"?"rtl":"rtr";document.documentElement.setAttribute("dir",A),E.setIsArLang(h==="ar"),E.setNotCnLang(!["cn","tw"].includes(h)),D.value=h,localStorage.setItem("lang",h),document.dispatchEvent(new CustomEvent("langChange")),z.value=!1};return(h,A)=>{const I=wt;return u(),r("div",Jt,[e("div",{class:"current",onClick:A[0]||(A[0]=d=>z.value=!z.value)},[e("div",Kt,[e("img",{src:s(m).image.href,alt:""},null,8,Xt)]),e("p",null,n(s(m).title),1),P(I,{name:"arrow-down",class:"icon"})]),e("div",{class:C([{active:z.value},"select-content"])},[(u(!0),r(Ne,null,xe(s(Ze),d=>(u(),r("div",{key:d.key,class:C([{active:d.key===s(V)},"item"]),onClick:ce=>R(d.key)},[e("img",{src:d.image.href,alt:""},null,8,Zt),e("p",null,n(d.title),1),P(I,{name:"success",class:"icon"})],10,Yt))),128))],2),e("div",{class:C([{active:z.value},"bg"]),onClick:A[1]||(A[1]=d=>z.value=!1)},null,2)])}}}),ss=Ie(ts,[["__scopeId","data-v-681eb37b"],["__file","D:/caishen/mall-app-h5-vue/mall-app-h5-vue/src/components/language-change/index.vue"]]),j=f("activity/turntable/block1.png"),B=f("activity/turntable/block2.png"),et=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],we=[0,1,2,3,4,5,6,7,8,9],tt=["gmail.com","yahoo.com","hotmail.com","outllok.com","qq.com","163.com","126.com","sina.com","sohu.com","139.com","189.com","360.com","21cn.com","139.com","189.cn","wo.cn","aol.com","protonmail.com","zoho.com","icloud.com","mail.ru","t-online.de","orange.fr","yahoo.co.uk","libero.it","yandex.ru","yahoo.com.sg","naver.com","saudi.net","rediffmail.com","indiatimes.com","yahoo.co.in","sify.com","naukri.com"],X=a([{x:0,y:0,fonts:[{text:"",fontColor:"#ffffff",fontSize:"16px",top:"70%"}],imgs:[{src:j,width:"100%",height:"100%",activeSrc:B}]},{x:1,y:0,fonts:[{text:"",fontColor:"#ffffff",fontSize:"16px",top:"70%"}],imgs:[{src:j,width:"100%",height:"100%",activeSrc:B}]},{x:2,y:0,fonts:[{text:"",fontColor:"#ffffff",fontSize:"16px",top:"70%"}],imgs:[{src:j,width:"100%",height:"100%",activeSrc:B}]},{x:2,y:1,fonts:[{text:"",fontColor:"#ffffff",fontSize:"16px",top:"70%"}],imgs:[{src:j,width:"100%",height:"100%",activeSrc:B}]},{x:2,y:2,fonts:[{text:"",fontColor:"#ffffff",fontSize:"16px",top:"70%"}],imgs:[{src:j,width:"100%",height:"100%",activeSrc:B}]},{x:1,y:2,fonts:[{text:"",fontColor:"#ffffff",fontSize:"16px",top:"70%"}],imgs:[{src:j,width:"100%",height:"100%",activeSrc:B}]},{x:0,y:2,fonts:[{text:"",fontColor:"#ffffff",fontSize:"16px",top:"70%"}],imgs:[{src:j,width:"100%",height:"100%",activeSrc:B}]},{x:0,y:1,fonts:[{text:"",fontColor:"#ffffff",fontSize:"16px",top:"70%"}],imgs:[{src:j,width:"100%",height:"100%",activeSrc:B}]},{x:1,y:1,fonts:[{text:"",fontColor:"#ffffff",fontSize:"16px",top:"70%"}],imgs:[{src:j,width:"100%",height:"100%",activeSrc:B}]}]);const os={class:"login-content"},as={class:"dialog-title"},ls={class:"type-tab"},ns=["onClick"],is={class:"form-content"},cs={key:0,class:"item"},us={key:1,class:"item"},rs={class:"item"},ds={class:"btn"},vs=Ce({name:"LoginDialog"}),ms=Object.assign(vs,{props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue","done"],setup(b,{emit:D}){const E=b,{t:m,locale:V}=$e(),z=st(),R=ot(),h=()=>{D("update:modelValue",!1)},A=["email","phoneNum"],I=a(0),d=a(!1),ce=localStorage.getItem("areaCode")?localStorage.getItem("areaCode"):44,Q=a(ce),p=Nt({username:"",password:""}),l=T=>{T!==I.value&&(I.value=T,p.username="",p.password="")},ue=()=>{const{hostname:T,origin:g}=window.location,O=T==="localhost"?"https://mall2.98kteam.com/promote/#/":`${g}/promote/#/`;window.open(`${O}?lang=${V.value}`)},re=()=>{const T=I.value===0?"entryEmail":"entryPhone";if(p.username==="")return w(m(T)),!1;if(p.password==="")return w(m("entryPassword")),!1;d.value=!0,qt({username:I.value==0?p.username:`${Q.value} ${p.username}`,password:p.password}).then(async g=>{await z[It](g),w(m("loginSuc")),d.value=!1,setTimeout(()=>{h(),D("done")},1500)}).catch(g=>{d.value=!1,console.log(g)})};return xt(()=>E.modelValue,T=>{T||(I.value=0,p.username="",p.password="")}),(T,g)=>{const O=at;return u(),r("div",{class:C([{active:b.modelValue},"login-dialog"])},[e("div",os,[e("div",as,n(s(m)("\u5356\u5BB6\u767B\u5F55")),1),e("div",ls,[(u(),r(Ne,null,xe(A,(L,F)=>e("div",{key:F,class:C([{active:F===I.value},"item"]),onClick:de=>l(F)},n(s(m)(L)),11,ns)),64))]),e("div",is,[I.value===0?(u(),r("div",cs,[P(Ee,{modelValue:p.username,"onUpdate:modelValue":g[0]||(g[0]=L=>p.username=L),type:"text","is-turn":!0,placeholder:s(m)("entryEmail"),clear:""},null,8,["modelValue","placeholder"])])):x("v-if",!0),I.value===1?(u(),r("div",us,[P(Ee,{modelValue:p.username,"onUpdate:modelValue":g[1]||(g[1]=L=>p.username=L),codeNum:Q.value,"onUpdate:codeNum":g[2]||(g[2]=L=>Q.value=L),type:"tel","is-turn":!0,placeholder:s(m)("entryPhone"),clear:"","area-code":""},null,8,["modelValue","codeNum","placeholder"])])):x("v-if",!0),e("div",rs,[P(Ee,{modelValue:p.password,"onUpdate:modelValue":g[3]||(g[3]=L=>p.password=L),type:"password","is-turn":!0,placeholder:s(m)("entryPassword"),clear:"","show-password":""},null,8,["modelValue","placeholder"])]),e("div",{class:C(["link-content",{"is-ar":s(R)}])},[e("p",null,[W(n(s(m)("\u5982\u679C\u60A8\u6CA1\u6709\u8D26\u53F7"))+", ",1),e("span",{class:"link",onClick:ue},n(s(m)("\u70B9\u51FB\u6CE8\u518C")),1)]),e("p",{onClick:g[4]||(g[4]=L=>s(Ct)(!0)),class:"link"},n(s(m)("forgetPassword")),1)],2),e("div",ds,[P(O,{type:"custom",loading:d.value,block:"",onClick:re},{default:Y(()=>[W(n(s(m)("login")),1)]),_:1},8,["loading"])])])]),e("div",{class:"login-bg",onClick:h})],2)}}}),fs=Ie(ms,[["__scopeId","data-v-88e63e2d"],["__file","D:/caishen/mall-app-h5-vue/mall-app-h5-vue/src/views/activityCenter/turntable/components/LoginDialog.vue"]]);const ps={class:"tips-content"},gs={class:"dialog-title"},_s={class:"info-content"},hs={class:"txt-content"},ys={key:0},bs={key:1},ks={class:"btn"},ws=Ce({name:"TipsDialog"}),Ns=Object.assign(ws,{props:{modelValue:{type:Boolean,default:!1},tipsTitle:{type:String,default:""},tipsInfo:{type:String,default:""},again:{type:Boolean,default:!1},times:{type:Number,default:0}},emits:["update:modelValue","again"],setup(b,{emit:D}){const E=b,{t:m}=$e(),V=()=>{D("update:modelValue",!1)},z=()=>{E.times?h():V()},R=()=>{E.times||V()},h=()=>{V(),D("again")};return(A,I)=>{const d=at;return u(),r("div",{class:C([{active:b.modelValue},"tips-dialog"])},[e("div",ps,[e("div",gs,n(s(m)("\u63D0\u793A")),1),e("div",_s,[e("div",hs,[b.tipsTitle?(u(),r("p",ys,n(b.tipsTitle),1)):x("v-if",!0),b.tipsInfo?(u(),r("h2",bs,n(b.tipsInfo),1)):x("v-if",!0)]),e("div",ks,[b.again?(u(),ie(d,{key:0,type:"custom",block:"",onClick:h},{default:Y(()=>[W(n(s(m)("\u518D\u62BD\u4E00\u6B21")),1)]),_:1})):(u(),ie(d,{key:1,type:"custom",block:"",onClick:z},{default:Y(()=>[W(n(b.times?s(m)("\u786E\u5B9A"):s(m)("\u77E5\u9053\u4E86")),1)]),_:1})),b.again?(u(),ie(d,{key:2,type:"cancel",block:"",onClick:V},{default:Y(()=>[W(n(s(m)("\u53D6\u6D88")),1)]),_:1})):x("v-if",!0)])])]),e("div",{class:"tips-bg",onClick:R})],2)}}}),xs=Ie(Ns,[["__scopeId","data-v-6ca20a48"],["__file","D:/caishen/mall-app-h5-vue/mall-app-h5-vue/src/views/activityCenter/turntable/components/TipsDialog.vue"]]);const v=b=>(Vt("data-v-2b7b83b6"),b=b(),Mt(),b),Cs={class:"turntable-page"},Is={class:"audio-container"},$s=["src"],Ts=["src"],Ss=["src"],zs=["src"],Ls=["src"],Ds={key:0,class:"turntable-warp"},As={class:"language-content"},Ps={class:"play"},Vs=["src"],Ms={class:"img-width light-left"},Es=["src"],Hs={class:"img-width light-right"},Us=["src"],js={class:"img-width cart"},Bs=["src"],Rs={class:"img-height target"},Os=["src"],Fs={class:"img-height trumpet1"},Gs=["src"],qs={class:"img-width trumpet2"},Ws=["src"],Qs={class:"shadow-txt"},Js={class:"title-info"},Ks={class:"turntable-container"},Xs=["src"],Ys={class:"notice-content"},Zs={class:"notice-item"},eo=v(()=>e("div",{class:"item"},null,-1)),to=v(()=>e("div",{class:"item"},null,-1)),so=v(()=>e("div",{class:"item"},null,-1)),oo=[eo,to,so],ao=v(()=>e("div",{class:"item"},null,-1)),lo=v(()=>e("div",{class:"item"},null,-1)),no=v(()=>e("div",{class:"item"},null,-1)),io=[ao,lo,no],co=v(()=>e("div",{class:"item"},null,-1)),uo=v(()=>e("div",{class:"item"},null,-1)),ro=v(()=>e("div",{class:"item"},null,-1)),vo=[co,uo,ro],mo=v(()=>e("div",{class:"item"},null,-1)),fo=v(()=>e("div",{class:"item"},null,-1)),po=v(()=>e("div",{class:"item"},null,-1)),go=[mo,fo,po],_o={key:0,dir:"ltr",class:"lottery-content"},ho={dir:"ltr",class:"btn-content"},yo={key:0},bo={key:0,class:"color"},ko={class:"item"},wo={key:0},No={class:"item"},xo={class:"block-content"},Co=v(()=>e("div",{class:"block-bottom"},null,-1)),Io=v(()=>e("div",{class:"block-line left"},null,-1)),$o=v(()=>e("div",{class:"block-line right"},null,-1)),To={class:"title"},So={class:"content my-prize"},zo={class:"item"},Lo={class:"item"},Do={key:0,class:"block-content"},Ao=v(()=>e("div",{class:"block-bottom"},null,-1)),Po=v(()=>e("div",{class:"block-line left"},null,-1)),Vo=v(()=>e("div",{class:"block-line right"},null,-1)),Mo={class:"title"},Eo={class:"content invite"},Ho={class:"link-content"},Uo={class:"txt"},jo={key:1,dir:"ltr",class:"block-content"},Bo=v(()=>e("div",{class:"block-bottom"},null,-1)),Ro=v(()=>e("div",{class:"block-line left"},null,-1)),Oo=v(()=>e("div",{class:"block-line right"},null,-1)),Fo={class:"title"},Go={class:"prize"},qo=["src"],Wo={key:0,class:"loading"},Qo={key:1,class:"no-data"},Jo={class:"block-content bg2"},Ko=v(()=>e("div",{class:"block-bottom"},null,-1)),Xo=v(()=>e("div",{class:"block-line left"},null,-1)),Yo=v(()=>e("div",{class:"block-line right"},null,-1)),Zo={class:"title"},ea={class:"content intro"},ta=["innerHTML"],sa=Ce({name:"ActivityTurntable"}),oa=Object.assign(sa,{setup(b){const D=$t(),{toClipboard:E}=Ht(),m=Tt(),V=st(),z=a(!1),R=ne(()=>({...{username:"",email:""},...V.userInfo})),h=ne(()=>R.value.username||R.value.email||""),A=ne(()=>{const o="sm";return["argos"].includes(o)?f("activity/turntable/audio/bg1.mp3"):f("activity/turntable/audio/bg.mp3")}),I=ot(),d=a(""),ce=f("activity/turntable/default-imgs.png"),Q=f("activity/turntable/default-imgs1.png"),p=a(!1),{t:l,locale:ue}=$e(),re=a(!1),T=a(!0),g=a(),O=a(),L=a(),F=a(),de=a(),ve=a([]),me=a(""),fe=a(""),J=a(!1),Z=a(),$=a([]),y=a({}),He=async()=>{w.loading({duration:0,forbidClick:!0}),await Ft({activityId:d.value}).then(o=>{ke.value=!0;let t=o.prizeList||[];if(t.length>9&&(t=t.slice(0,9)),$.value=t,y.value=o,$.value.length)for(let i=0;i<$.value.length;i++)X.value[i].id=$.value[i].id,X.value[i].prizeName=$.value[i].prizeName,X.value[i].fonts[0].text=$.value[i].prizeName,X.value[i].imgs.push({src:$.value[i].image||(Number($.value[i].prizeType)===3?ce:Q),width:"34%",top:"20%"});lt(),Me(()=>{z.value=!0,w.clear()})}).catch(()=>{ke.value=!1})},lt=()=>{const o=[];for(let t=0;t<50;t++){const i=Math.random()<.5;let k="";if(i){let N="",S="";const c=Math.floor(Math.random()*4),oe=Math.floor(Math.random()*5),yt=Math.floor(Math.random()*tt.length),bt="@"+tt[yt];for(let ae=0;ae<c;ae++){const Ve=Math.floor(Math.random()*et.length);N+=et[Ve]}for(let ae=0;ae<oe;ae++){const Ve=Math.floor(Math.random()*we.length);S+=we[Ve]}k=`${N}**${S}${bt}`}else{let N="";for(let S=0;S<4;S++){const c=Math.floor(Math.random()*we.length);N+=we[c]}k=`**${N}`}const _=nt();o.push(`${k} ${l("\u62BD\u4E2D\u4E86")} ${_}`)}ve.value=o},nt=()=>{const o=$.value.filter(c=>Number(c.prizeType)!==3),t=[...new Set(o.map(c=>c.odds))].sort((c,oe)=>c-oe),i=t.reduce((c,oe)=>c+oe,0),k=Math.random()*i,_=it(k,t),N=$.value.filter(c=>c.odds===t[_]),S=Math.floor(Math.random()*N.length);return N[S].prizeName},it=(o,t)=>{for(let i=0;i<t.length;i++)if(o<t[i])return i;return t.length-1},ct=()=>{T.value=!T.value,T.value?g.value.play():g.value.pause()},pe=a(!1),M=a(!1),H=a(""),U=a(""),Te=a(!1),Ue=(o=!1)=>{if(p.value){if(!y.value.state)return H.value="",U.value=l("\u6D3B\u52A8\u672A\u5F00\u542F"),M.value=!0,!1;const t=new Date().getTime(),i=new Date(y.value.startTime).getTime(),k=new Date(y.value.endTime).getTime();if(i>t)return H.value=l("\u6D3B\u52A8\u5F00\u59CB\u65F6\u95F4"),U.value=y.value.startTime,M.value=!0,!1;if(!o){if(k<t)return H.value=l("\u672C\u6B21\u6D3B\u52A8\u5DF2\u7ED3\u675F"),U.value=l("\u6B22\u8FCE\u4E0B\u6B21\u518D\u6765\uFF01"),M.value=!0,!1;if(Number(G.value)<Number(y.value.pointsToNumber))return H.value="",U.value=l("\u79EF\u5206\u4E0D\u8DB3"),M.value=!0,!1}return!0}else return z.value?pe.value=!0:w(l("\u8BF7\u7A0D\u540E\u91CD\u8BD5")),!1},je=a(!1),Be=a(0),Se=async o=>{if(Pe(),Ue()){if(!Ke.value){w(l("\u672A\u8BA4\u8BC1\u5546\u5BB6"));return}je.value=o,o?Number(G.value)<Number(y.value.pointsToNumber)*5?(H.value="",U.value=l("\u79EF\u5206\u4E0D\u8DB3"),M.value=!0):Oe(!0):Oe(!1)}},Re=o=>o?$.value.findIndex(t=>t.id===o):$.value.findIndex(t=>Number(t.prizeType)===3),K=a(!1),ee=a([]),Oe=async o=>{K.value||(Te.value=!1,ee.value=[],K.value=!0,Z.value.play(),O.value.play(),J.value=!0,await Ut({drawTimes:o?5:1,activityId:d.value}).then(t=>{let i=null;if(t){const k=o?Number(y.value.pointsToNumber)*5:Number(y.value.pointsToNumber);if(G.value=Number(G.value)-k,o){const _=$.value.find(S=>Number(S.prizeType)===3).id;ee.value=t;const N=t.find(S=>S.id!==_);i=N?N.id:_}else i=t[0].id}else w(l("\u7CFB\u7EDF\u9519\u8BEF\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5"));Z.value.stop(Re(i))}).catch(t=>{Z.value.stop(Re()),t==="login"&&window.location.reload()}))},ut=o=>{const t=$.value.find(i=>i.id===o.id);if(O.value.pause(),O.value.currentTime=0,J.value=!1,K.value=!1,he(!0),ee.value.length){Number(t.prizeType)===3?de.value.play():F.value.play();const i=$.value.find(_=>Number(_.prizeType)===3).id,k=ee.value.filter(_=>_.id!==i);for(let _=0;_<k.length;_++){let N=$.value.find(c=>c.id===k[_].id);ve.value.push(`${Ye(h.value,!1)} ${l("\u62BD\u4E2D\u4E86")} ${N.prizeName}`);const S={...N,prizeImage:N.image,id:new Date().getTime()};q.value.unshift(S)}H.value=k.length?l("\u606D\u559C\u60A8\uFF0C\u4E2D\u5956\u4E86\uFF01"):l("\u5F88\u9057\u61BE\uFF0C\u6B64\u6B21\u672A\u80FD\u4E2D\u5956"),U.value=ee.value.map(_=>_.prizeName).join(`
`),M.value=!0}else if(Te.value=Number(G.value)>Number(y.value.pointsToNumber)&&!je.value&&!Be.value,Number(t.prizeType)===3)de.value.play(),H.value=l("\u5F88\u9057\u61BE\uFF0C\u6B64\u6B21\u672A\u80FD\u4E2D\u5956"),U.value=t.prizeName,M.value=!0;else{F.value.play(),H.value=l("\u606D\u559C\u60A8\uFF0C\u4E2D\u5956\u4E86\uFF01"),U.value=t.prizeName,M.value=!0,ve.value.push(`${Ye(h.value,!1)} ${l("\u62BD\u4E2D\u4E86")} ${t.prizeName}`);const i={...t,prizeImage:t.image,id:new Date().getTime()};q.value.unshift(i)}},Fe=()=>{!re.value&&ke.value&&(g.value.play(),T.value=!0,re.value=!0)},te=a({gutter:20,speed:20}),rt=a({borderRadius:0,lineClamp:1}),dt=a({background:"rgba(0,0,0,0)"}),ze=a(!1),Le=a(!1),Ge=o=>{o?ze.value=!0:Le.value=!0},qe=o=>{o?ze.value=!1:Le.value=!1},G=a(0),We=async(o=!1)=>{o&&w.loading({duration:0,forbidClick:!0}),await Gt({activityId:d.value}).then(t=>{p.value=!0,G.value=t||0}).catch(()=>{console.log("need login")})},vt=()=>{p.value=!0,Xe(),We(!0),he(),be(!0),Je()},ge=a(0),_e=a(0),he=async(o=!1)=>{o||w.loading({duration:0,forbidClick:!0}),await jt({activityId:d.value}).then(t=>{ge.value=t.amount||0,_e.value=t.goodsNum||0})},Qe=o=>{if(Pe(),Ue(!0)){if(Number(o)===1){if(!_e.value){w(l("\u6682\u65E0\u5956\u54C1"));return}}else if(ge.value<Number(y.value.minPoints)){w(`${l("\u6700\u5C0F\u9886\u53D6\u91D1\u989D")}\u2265${y.value.minPoints}`);return}w.loading({duration:0,forbidClick:!0}),Bt({activityId:d.value,prizeType:o}).then(async()=>{await he(),w(l("\u9886\u53D6\u6210\u529F"))}).catch(()=>{w.clear()})}},mt=a(0),ft=a(0),ye=a(""),Je=()=>{Dt().then(o=>{ye.value=o.download&&o.code?`${o.download}/#?usercode=${o.code}&lang=${ue.value}`:""}),Rt({activityId:d.value}).then(o=>{mt.value=o.number||0,ft.value=o.points||0})},pt=async()=>{Pe();try{await E(ye.value),w(l("copySuccess"))}catch(o){console.error(o)}},gt=a(),_t=a(20),De=a(1),q=a([]),Ae=a(!0),se=a(!1),be=(o=!1)=>{o&&(De.value=1,Ae.value=!0,q.value=[]),Ae.value&&!se.value&&(se.value=!0,Ot({pageNum:De.value,pageSize:_t.value,activityId:d.value}).then(t=>{De.value+=1,Ae.value=!t.pageInfo.lastPage,q.value=[...q.value,...t.pageList],se.value=!1}).catch(()=>{se.value=!1}))},ht=o=>{const t=o.target;Math.ceil(t.scrollLeft+t.clientWidth)>=t.scrollWidth-50&&be()},Ke=a(!1),Xe=()=>{At().then(o=>{Ke.value=Number(o.status)===2})};St(()=>{document.removeEventListener("click",Fe)});const ke=a(!1);Me(async()=>{document.addEventListener("click",Fe,!1),document.addEventListener("langChange",async()=>{await He(),be(!0),Me(()=>{Z.value.init()})}),D?(me.value="60vw",fe.value="56vw",te.value.gutter=5,te.value.speed=50,X.value.forEach(k=>{k.fonts&&k.fonts.forEach(_=>{_.fontSize="2.4vw"})})):(me.value="690px",fe.value="630px",te.value.gutter=20,te.value.speed=20),g.value.volume=.25;const{lang:o,token:t,id:i}=m.query;o&&(ue.value=o,localStorage.setItem("lang",o)),t&&(w.loading({duration:0}),await V.getUserInfo(!0,t)),i?(d.value=i,d.value&&(await He(),z.value&&(await We(!0),p.value&&(Xe(),he(),Je(),be(!0))))):w(l("\u6682\u65E0\u6D3B\u52A8"))});const Pe=()=>{L.value.play()};return(o,t)=>{const i=Wt,k=Qt,_=zt("LuckyGrid"),N=Et,S=Lt;return u(),r("div",Cs,[e("div",Is,[x(' <audio :src="bgMp3" autoplay loop="loop" ref="bgAudio"></audio> '),e("audio",{src:s(A),loop:"loop",ref_key:"bgAudio",ref:g},null,8,$s),e("audio",{src:s(f)("activity/turntable/audio/rolling.mp3"),loop:"loop",ref_key:"rollingAudio",ref:O},null,8,Ts),e("audio",{src:s(f)("activity/turntable/audio/click.mp3"),ref_key:"clickAudio",ref:L},null,8,Ss),e("audio",{src:s(f)("activity/turntable/audio/success.mp3"),ref_key:"successAudio",ref:F},null,8,zs),e("audio",{src:s(f)("activity/turntable/audio/fail.mp3"),ref_key:"failAudio",ref:de},null,8,Ls)]),x(" \u767B\u5F55\u5F39\u7A97 "),P(fs,{modelValue:pe.value,"onUpdate:modelValue":t[0]||(t[0]=c=>pe.value=c),onDone:vt},null,8,["modelValue"]),x(" \u63D0\u793A\u5F39\u7A97 "),P(xs,{modelValue:M.value,"onUpdate:modelValue":t[1]||(t[1]=c=>M.value=c),"tips-title":H.value,"tips-info":U.value,again:Te.value,times:Be.value,onAgain:t[2]||(t[2]=c=>Se(!1))},null,8,["modelValue","tips-title","tips-info","again","times"]),ke.value?(u(),r("div",Ds,[e("div",As,[P(ss)]),e("div",{class:"play-content",onClick:ct},[e("div",Ps,[e("img",{src:s(f)(T.value?"activity/turntable/icon1.png":"activity/turntable/icon2.png"),alt:""},null,8,Vs)])]),e("div",{style:le({"background-image":"url("+s(f)("activity/turntable/page-header.png")+")"}),class:"page-header"},[e("div",Ms,[e("img",{src:s(f)("activity/turntable/light-left.png"),alt:""},null,8,Es)]),e("div",Hs,[e("img",{src:s(f)("activity/turntable/light-right.png"),alt:""},null,8,Us)]),e("div",js,[e("img",{src:s(f)("activity/turntable/cart.png"),alt:""},null,8,Bs)]),e("div",Rs,[e("img",{src:s(f)("activity/turntable/target.png"),alt:""},null,8,Os)]),e("div",Fs,[e("img",{src:s(f)("activity/turntable/trumpet1.png"),alt:""},null,8,Gs)]),e("div",qs,[e("img",{src:s(f)("activity/turntable/trumpet2.png"),alt:""},null,8,Ws)]),e("h1",null,n(s(l)("\u5F00\u5E97\u8D62\u5927\u5956")),1),e("h1",Qs,n(s(l)("\u5F00\u5E97\u8D62\u5927\u5956")),1),e("div",Js,[e("div",null,n(s(l)("\u5E78\u8FD0\u8F6C\u4E0D\u505C")),1)])],4),e("div",{style:le({"background-image":"url("+s(f)("activity/turntable/page-bg.png")+")"}),class:"page-content"},[e("div",Ks,[e("div",{style:le({"background-image":"url("+s(f)("activity/turntable/machine2.png")+")"}),class:"machine-content"},[e("div",{class:C([{active:K.value},"img-width rod"])},[e("img",{src:s(f)("activity/turntable/machine1.png"),alt:""},null,8,Xs)],2),e("div",Ys,[P(k,{class:"swiper",autoplay:3e3,"show-indicators":!1,vertical:""},{default:Y(()=>[(u(!0),r(Ne,null,xe(ve.value,c=>(u(),ie(i,{key:c},{default:Y(()=>[e("div",Zs,n(c),1)]),_:2},1024))),128))]),_:1})]),e("div",{class:C(["light-content top left",{active:J.value}])},oo,2),e("div",{class:C(["light-content top right",{active:J.value}])},io,2),e("div",{class:C(["light-content bottom left",{active:J.value}])},vo,2),e("div",{class:C(["light-content bottom right",{active:J.value}])},go,2),me.value&&fe.value?(u(),r("div",_o,[P(_,{ref_key:"lotteryCanvas",ref:Z,width:me.value,height:fe.value,"default-config":te.value,"default-style":rt.value,"active-style":dt.value,prizes:s(X),onEnd:ut},null,8,["width","height","default-config","default-style","active-style","prizes"])])):x("v-if",!0),e("div",ho,[e("div",{style:le({"background-image":"url("+s(f)("activity/turntable/start-btn1.png")+")"}),class:C([{active:ze.value,disabled:K.value},"btn one"]),onClick:t[3]||(t[3]=c=>Se(!1)),onTouchstart:t[4]||(t[4]=c=>Ge(!0)),onTouchend:t[5]||(t[5]=c=>qe(!0))},[e("h3",null,n(s(l)("\u62BDN\u6B21",{times:1})),1),y.value.pointsToNumber?(u(),r("p",yo,n(s(l)("\u6D88\u8017N\u79EF\u5206",{points:y.value.pointsToNumber})),1)):x("v-if",!0)],38),e("div",{style:le({"background-image":"url("+s(f)("activity/turntable/start-btn2.png")+")"}),class:C([{active:Le.value,disabled:K.value},"btn two"]),onClick:t[6]||(t[6]=c=>Se(!0)),onTouchstart:t[7]||(t[7]=c=>Ge(!1)),onTouchend:t[8]||(t[8]=c=>qe(!1))},[e("h3",null,n(s(l)("\u62BDN\u6B21",{times:5})),1),y.value.pointsToNumber?(u(),r("p",bo,n(s(l)("\u6D88\u8017N\u79EF\u5206",{points:y.value.pointsToNumber*5})),1)):x("v-if",!0)],38)]),p.value?(u(),r("div",{key:1,class:C([{"is-ar":s(I)},"user-content"])},[e("div",ko,[s(D)?(u(),ie(N,{key:1,color:"#ffffff",background:"rgba(0,0,0,0)",text:s(h)+" "+s(l)("\u6B22\u8FCE\u60A8\uFF01")},null,8,["text"])):(u(),r("div",wo,[e("span",null,n(s(h)),1),W(" "+n(s(l)("\u6B22\u8FCE\u60A8\uFF01")),1)]))]),e("div",No,[W(n(s(l)("\u5269\u4F59\u79EF\u5206"))+" ",1),e("span",null,n(G.value),1)])],2)):(u(),r("div",{key:2,class:"user-content login",onClick:t[9]||(t[9]=c=>pe.value=!0)},n(s(l)("\u8BF7\u5148\u767B\u5F55")),1))],4),e("div",xo,[Co,Io,$o,e("div",To,n(s(l)("\u6211\u7684\u5956\u54C1")),1),e("div",So,[e("div",zo,[e("h2",null,n(s(Pt)(ge.value)),1),e("p",null,n(s(l)("\u7D2F\u8BA1\u5F69\u91D1")),1),e("div",{class:C({active:ge.value>y.value.minPoints}),onClick:t[10]||(t[10]=c=>Qe(2))},n(s(l)("\u9886\u53D6")),3)]),e("div",Lo,[e("h2",null,n(_e.value),1),e("p",null,n(s(l)("\u83B7\u5F97\u5B9E\u7269")),1),e("div",{class:C({active:_e.value}),onClick:t[11]||(t[11]=c=>Qe(1))},n(s(l)("\u9886\u53D6")),3)])])]),ye.value?(u(),r("div",Do,[Ao,Po,Vo,e("div",Mo,n(s(l)("\u9080\u8BF7\u597D\u53CB")),1),e("div",Eo,[e("div",Ho,[e("div",Uo,n(ye.value),1),e("div",{class:"btn",onClick:pt},n(s(l)("\u590D\u5236\u94FE\u63A5")),1)]),x(` <p v-html="t('\u6210\u529F\u9080\u8BF7N\u4EBA\uFF0C\u83B7\u5F97N\u79EF\u5206', {num: inviteNumber, points: invitePoints})"></p>
              <p v-html="t('\u6BCF\u9080\u8BF7N\u4E2A\u597D\u53CB\u5F00\u5E97\u53EF\u83B7\u5F97N\u79EF\u5206', {num: 1, points: activityInfo.invitePoints})"></p> `)])])):x("v-if",!0),p.value?(u(),r("div",jo,[Bo,Ro,Oo,e("div",Fo,n(s(l)("\u6211\u7684\u4E2D\u5956")),1),e("div",{class:"content record",onScroll:t[12]||(t[12]=c=>ht(c))},[q.value.length?(u(),r("div",{key:0,class:"record-content",ref_key:"recordContent",ref:gt},[(u(!0),r(Ne,null,xe(q.value,c=>(u(),r("div",{key:c.id,class:"item"},[e("div",Go,[e("img",{src:c.prizeImage||s(Q),alt:""},null,8,qo)]),e("p",null,n(c.prizeName),1)]))),128)),se.value?(u(),r("div",Wo,[P(S,{color:"#ffffff",type:"spinner"})])):x("v-if",!0)],512)):(u(),r("div",Qo,n(s(l)("\u6682\u65E0\u4E2D\u5956\u8BB0\u5F55")),1))],32)])):x("v-if",!0),e("div",Jo,[Ko,Xo,Yo,e("div",Zo,n(s(l)("\u6D3B\u52A8\u89C4\u5219")),1),e("div",ea,[y.value.description?(u(),r("div",{key:0,innerHTML:y.value.description},null,8,ta)):x("v-if",!0)])])])],4)])):x("v-if",!0)])}}}),_a=Ie(oa,[["__scopeId","data-v-2b7b83b6"],["__file","D:/caishen/mall-app-h5-vue/mall-app-h5-vue/src/views/activityCenter/turntable/index.vue"]]);export{_a as default};
