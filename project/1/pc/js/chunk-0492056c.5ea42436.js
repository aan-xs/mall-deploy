(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0492056c"],{"2c90":function(t,e,a){a.r(e),a("14d9");var i=a("2650"),s=a("e5c4"),o=a("4260");i={name:"CollectGoods",components:{EsProductInfo:i.a},data(){return{listData:[],loading:!0,pageNum:1,pageSize:8,total:0,dialogVisible:!1,currentId:""}},mounted(){this.$nextTick(()=>{this.getListData()}),this.$store.state.user.currentIndex=3},methods:{goBack(){this.$router.go(-1)},numberFormatFn(t){return Object(o.f)(t)},currentChange(t){this.pageNum=t,this.getListData()},getListData(){this.loading=!0;var t={pageNum:this.pageNum,pageSize:this.pageSize};Object(s.k)(t).then(t=>{var e=t.data;this.total=(null==(t=t.data.pageInfo)?void 0:t.totalElements)||0,e.pageList.forEach(t=>{t.loading=!1}),this.listData=e.pageList,this.$Gsap.from(this.$refs.collentGoods,{delay:.5,duration:1,y:"+100",autoAlpha:0,ease:"back.out(1.7)"}),this.loading=!1}).catch(()=>{this.loading=!1})},cancelCol(t){Object(s.j)({sellerGoodsId:t.id}).then(()=>{this.pageNum=1,this.getListData()})},buyNow(t){this.currentId=t.id,setTimeout(()=>{this.dialogVisible=!0},300)},handleBuy(){this.dialogVisible=!1},gotoDetails(t){t.isShelf?this.$router.push({name:"productDetails",query:{id:t.id}}):this.$message({type:"warning",message:this.$t("message.home.productAvailable")})}}},a("69e0"),a=a("2877"),a=Object(a.a)(i,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"collect-content"},[e("el-dialog",{staticClass:"es-dialog",attrs:{visible:t.dialogVisible,center:!0,"destroy-on-close":!0},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("div",{staticClass:"dialog-title",attrs:{slot:"title"},slot:"title"},[e("span",[t._v(t._s(t.$t("message.home.addCart")))])]),t.dialogVisible?e("div",{staticClass:"dialog-content"},[e("EsProductInfo",{attrs:{id:t.currentId},on:{handleBuy:t.handleBuy}})],1):t._e(),e("span",{attrs:{slot:"footer"},slot:"footer"})]),e("div",{staticClass:"page-title",staticStyle:{cursor:"pointer"},on:{click:t.goBack}},[e("i",{staticClass:"el-icon-arrow-left"}),t._v(" "+t._s(t.$t("message.home.myCommodityCollection"))+" ")]),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[e("div",{ref:"collentGoods",staticClass:"content"},[t.listData.length?e("div",{staticClass:"list-content"},t._l(t.listData,(function(a){return e("div",{key:a.sellerId,staticClass:"item"},[a.discountRatio&&a.isShelf?e("div",{staticClass:"discount"},[e("span",[t._v(t._s(100*t.numberFormatFn(a.discountRatio))+" %")]),e("br"),e("span",[t._v("OFF")])]):t._e(),e("div",{staticClass:"poster",on:{click:function(e){return t.gotoDetails(a)}}},[e("img",{style:a.isShelf?"":"filter: grayscale(100%);",attrs:{src:a.imgUrl1||a.imgUrl2||a.imgUrl3||a.imgUrl4,alt:"collection-item"}})]),e("div",{staticClass:"price"},[e("p",{style:a.isShelf?"":"color:#ccc;"},[t._v(" $"+t._s(t.numberFormatFn(a.discountPrice||a.sellingPrice))+" ")]),e("i",{staticClass:"el-icon-star-on",on:{click:function(e){return t.cancelCol(a)}}})]),e("div",{staticClass:"name"},[e("p",{style:a.isShelf?"":"color:#ccc;",on:{click:function(e){return t.gotoDetails(a)}}},[t._v(t._s(a.name||"-"))]),a.isShelf?e("div",[e("i",{staticClass:"el-icon-shopping-cart-full"}),e("span",{staticClass:"buy-btn",on:{click:function(e){return t.buyNow(a)}}},[t._v(" "+t._s(t.$t("message.home.buyNow"))+" ")])]):t._e()])])})),0):t._e()]),t.listData.length||t.loading?t._e():e("el-empty",{attrs:{description:t.$t("message.home.noData")}})],1),t.listData.length||t.total?e("div",{staticClass:"common-pagination"},[e("el-pagination",{staticClass:"es-pagination",attrs:{background:"",layout:"prev,pager, next","pager-count":5,"page-size":t.pageSize,"current-page":t.pageNum,total:t.total},on:{"current-change":t.currentChange}})],1):t._e()],1)}),[],!1,null,"046b6f12",null);e.default=a.exports},"69e0":function(t,e,a){a("8d7b")},"8d7b":function(t,e,a){}}]);