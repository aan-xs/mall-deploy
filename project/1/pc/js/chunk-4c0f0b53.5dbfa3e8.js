(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4c0f0b53"],{"074f":function(t,e,s){"use strict";s("e02e");var a={name:"EsPayPassword",props:{type:{type:String,required:!1,default:"number"},maxlength:{type:Number,required:!1,default:6},styles:{type:Object,required:!1,default:()=>({})}},data(){return{inputdata:"",codeData:[]}},watch:{inputdata(t,e){/[^\d]/g.test(t)?this.inputdata=this.inputdata.replace(/[^\d]/g,""):t.length<e.length?""===t?this.$data.codeData=["","","","","",""]:this.$data.codeData[e.length-1]="":t.length-1===e.length?this.$data.codeData[t.length-1]=t[t.length-1]:t.split("").map((t,e)=>{this.$data.codeData[e]=t})}},computed:{},mounted(){this.$refs.codeinput.focus();for(let t=0,e=this.maxlength;t<e;t++)this.codeData.push("")},methods:{clear(){this.codeData=[],this.inputdata="";for(let t=0,e=this.maxlength;t<e;t++)this.codeData.push("")},focus(){this.$refs.codeinput.focus()},inputBlur(){this.$emit("output",{data:this.$data.inputdata,isfinished:!this.$data.codeData.includes("")})}}};s("8ccf"),s=s("b01b"),s=Object(s.a)(a,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"code-box"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputdata,expression:"inputdata"}],ref:"codeinput",staticClass:"code-input",attrs:{type:"tel",pattern:"[0-9]*",maxlength:t.maxlength},domProps:{value:t.inputdata},on:{blur:function(e){return t.inputBlur()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.inputBlur()},input:function(e){e.target.composing||(t.inputdata=e.target.value)}}}),"password"===t.type?e("div",{staticClass:"code-all",on:{click:t.focus}},t._l(t.codeData,(function(s,a){return e("div",{key:a,staticClass:"code-item",class:{"code-active":0===a||t.inputdata.length-1>=a,"code-password":t.inputdata.length-1>=a},style:[t.styles],attrs:{contenteditable:"true"}})})),0):e("div",{staticClass:"code-all",on:{click:t.focus}},t._l(t.codeData,(function(s,a){return e("div",{key:a,staticClass:"code-item",class:{"code-active":0===a||t.inputdata.length-1>=a},style:[t.styles],attrs:{contenteditable:"true"}},[t._v(" "+t._s(s)+" ")])})),0)])}),[],!1,null,null,null);e.a=s.exports},2163:function(t,e,s){"use strict";s.r(e),s("e02e");var a=s("6eef"),o=s("3191"),i=s("074f");i={name:"account-cancellation",props:{show:{type:Boolean,default:!1},payCallback:{type:Function,default:null},payLoading:{type:Boolean,default:!1}},model:{prop:"show",event:"update"},components:{EsPayPassword:i.a},data(){return{accout:"1",logoutReason:"",centerDialogVisible:!1,passwordDialog:!1,password:"",showModel:0,firstPaw:0,secondPaw:0,fouce:!1}},computed:{...Object(a.c)(["userInfo"]),...Object(a.c)("user",["userBalance"])},async mounted(){await this.requestGetUserBalanceList(),this.accout=this.userInfo.username},methods:{...Object(a.b)("user",["requestGetUserBalanceList"]),...Object(a.b)({logout:"logout"}),goBack(){this.$router.push("/userInfo/setup")},confirmEvent(){this.userBalance?this.$message({message:this.$t("message.home.您还有余额,不能注销账号"),type:"warning"}):this.logoutReason.trim()?this.centerDialogVisible=!0:this.$message({message:this.$t("message.home.请输入注销理由"),type:"warning"})},openPass(){this.userInfo.safeword?(this.centerDialogVisible=!1,this.passwordDialog=!0,this.$refs.passwordRef.clear()):this.suerCancel()},async suerCancel(){this.passwordDialog&&(this.passwordDialog=!1,this.$refs.passwordRef.clear()),"0"==(await Object(o.m)({token:sessionStorage.getItem("ES_TOKEN"),account:this.accout,reason:this.logoutReason,cashPassword:this.password||""})).code&&(this.centerDialogVisible=!1,localStorage.setItem("ES_MESSAGE_LAST_ID",""),this.$message({message:this.$t("message.home.注销成功"),type:"success"}),this.logout(),this.$router.push("/")),this.centerDialogVisible=!1},pay(){this.suerCancel()},output({data:t,isfinished:e}){this.fouce=!0,e&&(1===this.showModel?this.firstPaw=t:2===this.showModel?this.secondPaw=t:0===this.showModel&&(this.password=t))}}},s("73c7"),a=s("b01b"),s=Object(a.a)(i,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"transaction-password"},[e("div",{staticClass:"page-title",staticStyle:{cursor:"pointer"},on:{click:t.goBack}},[e("i",{staticClass:"el-icon-arrow-left"}),t._v(" "+t._s(t.$t("message.home.账号注销"))+" ")]),e("div",{staticClass:"log-container"},[e("div",[e("div",{staticClass:"tit-log"},[t._v(t._s(t.$t("message.home.您的账号")))]),e("el-input",{attrs:{disabled:""},model:{value:t.accout,callback:function(e){t.accout=e},expression:"accout"}})],1),e("div",[e("div",{staticClass:"tit-log"},[t._v(t._s(t.$t("message.home.为什么要离开"))+"?")]),e("el-input",{staticClass:"content",attrs:{type:"textarea",placeholder:t.$t("message.home.pleaseInput"),resize:"none",maxlength:1e3},model:{value:t.logoutReason,callback:function(e){t.logoutReason=e},expression:"logoutReason"}})],1),e("div",[e("el-button",{staticStyle:{width:"412px",height:"44px","margin-top":"22px"},attrs:{size:"medium",type:"primary"},on:{click:t.confirmEvent}},[t._v(" "+t._s(t.$t("message.home.确定注销"))+" ")])],1)]),e("el-dialog",{attrs:{title:t.$t("message.home.您确认要注销吗?"),visible:t.centerDialogVisible,width:"30%",center:""},on:{"update:visible":function(e){t.centerDialogVisible=e}}},[e("span",[t._v(t._s(t.$t("message.home.cancelInfo")))]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.centerDialogVisible=!1}}},[t._v(t._s(t.$t("message.home.Cancel")))]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.openPass()}}},[t._v(t._s(t.$t("message.home.同意注销")))])],1)]),e("el-dialog",{staticClass:"es-dialog",attrs:{visible:t.passwordDialog,center:!0,"append-to-body":!0,width:"475px"},on:{"update:visible":function(e){t.passwordDialog=e}}},[e("div",{staticClass:"dialog-title",attrs:{slot:"title"},slot:"title"},[0===t.showModel?e("span",[t._v(t._s(t.$t("message.home.desc3")))]):t._e()]),e("div",{staticClass:"pay-modal-content dialog-content"},[2!==t.showModel?e("h2",{staticClass:"pay-modal-title"},[t._v(" "+t._s(t.$t("message.home.desc4"))+" ")]):t._e(),e("EsPayPassword",{ref:"passwordRef",attrs:{type:"password",maxlength:6},on:{output:t.output}}),e("div",{staticClass:"pay-modal-btn"},[0===t.showModel?e("el-button",{attrs:{type:"primary",loading:t.payLoading},on:{click:t.pay}},[t._v(" "+t._s(t.$t("message.home.confirm"))+" ")]):t._e()],1)],1)])],1)}),[],!1,null,"69558f8a",null);e.default=s.exports},"5a25":function(t,e,s){},"6d62":function(t,e,s){},"73c7":function(t,e,s){"use strict";s("5a25")},"8ccf":function(t,e,s){"use strict";s("6d62")}}]);