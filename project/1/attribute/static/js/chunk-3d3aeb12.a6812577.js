(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3d3aeb12"],{"28c6":function(t,a,e){"use strict";e("31fd")},"31fd":function(t,a,e){},e47b:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t._self._c;return a("div",[a("div",{staticClass:"newadd"},[a("el-button",{attrs:{type:"primary"},on:{click:()=>t.$router.back()}},[t._v("返回")]),a("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.toAdd()}}},[t._v(" 新增规格 ")])],1),a("el-table",{key:t.id,ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"tooltip-effect":"dark",border:"",align:"center","header-cell-style":{background:"#e4e4e4"}}},[a("el-table-column",{attrs:{type:"selection",width:"80",align:"center"}}),a("el-table-column",{attrs:{label:"规格ID",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(a.row.id))]}}])}),a("el-table-column",{attrs:{prop:"attrName",label:"规格名称",width:"200",align:"center"}}),a("el-table-column",{attrs:{label:"规格所属",prop:"categoryName",width:"200",align:"center"}}),a("el-table-column",{attrs:{prop:"sort",label:"排序",width:"140",align:"center"}}),a("el-table-column",{attrs:{prop:"valueStr",label:"设置",width:"140",align:"center"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:function(a){return t.handleEdit(e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return t.delList(e.row)}}},[t._v("删除")])]}}])})],1),a("div",{staticClass:"pagenum"},[a("el-button",{attrs:{size:"mini",disabled:t.firstPage,round:""},on:{click:function(a){return t.goBack()}}},[t._v("首页")]),a("el-button",{attrs:{size:"mini",round:"",disabled:t.firstPage},on:{click:function(a){return t.goPre()}}},[t._v("上一页")]),a("el-button",{attrs:{size:"mini",round:"",disabled:""}},[t._v(t._s(t.pagesNum))]),a("el-button",{attrs:{size:"mini",disabled:t.lastPage,round:""},on:{click:function(a){return t.goNext()}}},[t._v("下一页")]),a("el-button",{attrs:{size:"mini",disabled:t.lastPage,round:""},on:{click:function(a){return t.goLast()}}},[t._v("尾页")])],1),a("el-dialog",{attrs:{title:"编辑",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(a){t.dialogVisible=a}}},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleTabsClick},model:{value:t.activeName,callback:function(a){t.activeName=a},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"中文",name:"cn"}},[a("div",{staticClass:"newadditem"},[a("span",[t._v("规格名称：")]),a("el-input",{attrs:{placeholder:"请输入属性名称"},model:{value:t.langData.cn.name,callback:function(a){t.$set(t.langData.cn,"name",a)},expression:"langData.cn.name"}})],1),a("div",{staticClass:"newadditem"},[a("span",[t._v("所属属性")]),a("el-input",{attrs:{disabled:""},model:{value:t.categoryName,callback:function(a){t.categoryName=a},expression:"categoryName"}})],1),a("div",{staticClass:"newadditem"},[a("span",[t._v("排序")]),a("el-input",{attrs:{oninput:"value=value.replace(/[^\\d]/g,'')"},model:{value:t.sort,callback:function(a){t.sort=a},expression:"sort"}})],1),a("div",{staticClass:"newadditem"},[a("span",[t._v("规格项")]),a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入规格项，多个关键字用逗号隔开"},model:{value:t.langData.cn.values,callback:function(a){t.$set(t.langData.cn,"values",a)},expression:"langData.cn.values"}})],1)]),a("el-tab-pane",{attrs:{label:"英文",name:"en"}},[a("div",{staticClass:"newadditem"},[a("span",[t._v("规格名称：")]),a("el-input",{attrs:{placeholder:"请输入属性名称"},model:{value:t.langData.en.name,callback:function(a){t.$set(t.langData.en,"name",a)},expression:"langData.en.name"}})],1),a("div",{staticClass:"newadditem"},[a("span",[t._v("所属属性")]),a("el-input",{attrs:{disabled:""},model:{value:t.categoryName,callback:function(a){t.categoryName=a},expression:"categoryName"}})],1),a("div",{staticClass:"newadditem"},[a("span",[t._v("排序")]),a("el-input",{attrs:{oninput:"value=value.replace(/[^\\d]/g,'')"},model:{value:t.sort,callback:function(a){t.sort=a},expression:"sort"}})],1),a("div",{staticClass:"newadditem"},[a("span",[t._v("规格项")]),a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入规格项，多个关键字用逗号隔开"},model:{value:t.langData.en.values,callback:function(a){t.$set(t.langData.en,"values",a)},expression:"langData.en.values"}})],1)]),a("el-tab-pane",{attrs:{label:"繁体",name:"tw"}},[a("div",{staticClass:"newadditem"},[a("span",[t._v("规格名称：")]),a("el-input",{attrs:{placeholder:"请输入属性名称"},model:{value:t.langData.tw.name,callback:function(a){t.$set(t.langData.tw,"name",a)},expression:"langData.tw.name"}})],1),a("div",{staticClass:"newadditem"},[a("span",[t._v("所属属性")]),a("el-input",{attrs:{disabled:""},model:{value:t.categoryName,callback:function(a){t.categoryName=a},expression:"categoryName"}})],1),a("div",{staticClass:"newadditem"},[a("span",[t._v("排序")]),a("el-input",{attrs:{oninput:"value=value.replace(/[^\\d]/g,'')"},model:{value:t.sort,callback:function(a){t.sort=a},expression:"sort"}})],1),a("div",{staticClass:"newadditem"},[a("span",[t._v("规格项")]),a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入规格项，多个关键字用逗号隔开"},model:{value:t.langData.tw.values,callback:function(a){t.$set(t.langData.tw,"values",a)},expression:"langData.tw.values"}})],1)])],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(a){t.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.clickEdit}},[t._v(" 确 定 ")])],1)],1)],1)},l=[],n=e("365c"),i={name:"specification",data(){return{categoryName:null,categoryId:null,sort:null,langData:{cn:{name:null,values:null,categoryId:null,sort:null},en:{name:null,values:null,categoryId:null,sort:null},tw:{name:null,values:null,categoryId:null,sort:null}},pagesNum:1,tableData:[],dialogVisible:!1,lastPage:!1,firstPage:!1,lastPageNum:1,falg:!1,activeName:"cn",lang:"cn"}},activated(){this.categoryName=this.$route.query.attribute,this.categoryId=this.$route.query.id,this.pagesNum=1,this.getAttributeList()},methods:{toAdd(){this.dialogVisible=!0,this.langData.cn.name=null,this.langData.cn.sort=null,this.langData.cn.id=null,this.langData.cn.values=null,this.langData.en.name=null,this.langData.en.sort=null,this.langData.en.id=null,this.langData.en.values=null,this.langData.tw.name=null,this.langData.tw.sort=null,this.langData.tw.id=null,this.langData.tw.values=null},goBack(){this.pagesNum=1,this.getAttributeList()},goLast(){this.pagesNum=this.lastPageNum,this.getAttributeList()},goNext(){this.pagesNum+=1,this.getAttributeList()},goPre(){this.pagesNum-=1,this.getAttributeList()},handleTabsClick(t){0==t.index?this.lang="cn":this.lang="en"},getAttributeList(){let t={pageNum:this.pagesNum,pageSize:10,categoryId:this.categoryId};Object(n["h"])(t).then(t=>{this.tableData=t.data.elements,this.pagesNum=t.data.thisPageNumber,this.lastPageNum=t.data.totalPage||1,t.data.lastElementNumber-t.data.firstElementNumber==1?this.falg=!0:this.falg=!1,console.log("this.flag ->",this.falg),t.data.lastPage?this.lastPage=!0:this.lastPage=!1,1==t.data.thisPageNumber?this.firstPage=!0:this.firstPage=!1})},handleEdit(t){this.dialogVisible=!0,Object(n["i"])({id:t.id}).then(t=>{this.langData=t.data,this.sort=this.langData.cn.sort})},clickEdit(){this.langData.cn.name?this.langData.en.name?this.langData.tw.name?this.langData.cn.values?this.langData.en.values?this.langData.tw.values?(this.langData.cn.categoryId=this.categoryId,this.langData.cn.sort=this.sort,this.langData.tw.categoryId=this.categoryId,this.langData.tw.sort=this.sort,this.langData.tw.categoryId=this.categoryId,this.langData.tw.sort=this.sort,console.log(this.langData),this.langData.cn.id?Object(n["f"])(this.langData).then(t=>{0==t.code?(this.$message({type:"success",message:"更新成功!"}),this.dialogVisible=!1,this.getAttributeList(this.pagesNum)):this.$message({type:"error",message:t.data.msg})}):Object(n["b"])(this.langData).then(t=>{0==t.code?(this.$message({type:"success",message:"增加成功!"}),this.dialogVisible=!1,this.getAttributeList(this.pagesNum)):this.$message({type:"error",message:t.data.msg})})):this.$message({type:"error",message:"请输入繁体规格项!"}):this.$message({type:"error",message:"请输入英文规格项!"}):this.$message({type:"error",message:"请输入中文规格项!"}):this.$message({type:"error",message:"请输入繁体规格名称!"}):this.$message({type:"error",message:"请输入英文规格名称!"}):this.$message({type:"error",message:"请输入中文规格名称!"})},delList(t){this.id=t.id,this.$confirm("此操作将永久删除该规格, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{Object(n["d"])({id:this.id}).then(t=>{0==t.code&&(this.$message({type:"success",message:"删除成功!"}),this.getAttributeList())})}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})}}},r=i,o=(e("28c6"),e("2877")),c=Object(o["a"])(r,s,l,!1,null,"70b2f7ac",null);a["default"]=c.exports}}]);