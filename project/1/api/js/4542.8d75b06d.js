"use strict";(self["webpackChunkshop"]=self["webpackChunkshop"]||[]).push([[4542],{74542:function(e,t,s){s.r(t),s.d(t,{default:function(){return g}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"service-box",style:e.isApp?{height:"93%"}:null},[t("div",{staticClass:"back",on:{click:function(t){return e.$router.go(-1)}}}),t("iframe",{ref:"frame",class:[this.localIsList&&"local_list"],attrs:{src:e.serviceUrl,frameborder:"0",width:"100%",height:"100%"}})])},o=[],r=(s(65825),s(19858)),a=s(63822),n=s(15941),l={name:"CustomerService",data(){return{isFirstRequest:!0,token:"",serviceUrl:"",pageHeight:"",lang:"",sellerId:"",storeName:"",isApp:!!window.plus,path:"",localIsList:!1,isShowIcon:!1}},components:{[r.Z.name]:r.Z},computed:{...(0,a.Se)({userInfo:"userInfo"})},mounted(){this.init(),window.addEventListener("message",(e=>{"back"==e.data&&this.$router.push("/")}))},methods:{onClickLeft(){this.$router.push("/")},init(){this.token=localStorage.getItem("token"),this.lang=localStorage.getItem("lang"),this.pageHeight=document.documentElement.clientHeight-44,this.sellerId=this.$route.query?.path?"":localStorage.getItem("sellerId"),this.storeName=this.$route.query?.path?"":localStorage.getItem("storeName");const e=this.$route.query?.path?this.$t("消息"):sessionStorage.getItem("shopName"),t=this.$route.query?.goodsId;let s=window?.plus?this.$store.state.app.app_domain:location.origin;location.origin.indexOf("localhost")>-1&&(s="https://thsjbvh.site");const i=this.sellerId?`?partyid=${this.sellerId}&token=${this.token}&lang=${this.lang}&height=${this.pageHeight}px`:`?token=${this.token}&lang=${this.lang}&height=100%`;n.log("shopName ::->",e),this.serviceUrl=`${s}/chat/#/h5/${this.$route.query?.path||"message"}/yellow${i}&loginType=user&nohead=true&isH5=true&selfimg=${this.userInfo?.avatar||1}${e?"&shopName="+e:""}${t&&"undefined"!=t?"&productId="+t:""}`}}},h=l,u=s(1001),c=(0,u.Z)(h,i,o,!1,null,"3f543798",null),g=c.exports},65825:function(e,t,s){s(22184),s(14106),s(4127)}}]);