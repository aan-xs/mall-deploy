"use strict";(self["webpackChunkshop"]=self["webpackChunkshop"]||[]).push([[1045],{71045:function(t,a,s){s.r(a),s.d(a,{default:function(){return f}});var e=function(){var t=this,a=t._self._c;return a("div",{staticClass:"login"},[a("nationality-list",{ref:"controlChild",attrs:{title:t.$t("选择区域码")},on:{getName:function(a){return t.getName(arguments)}}}),a("Vcode",{staticStyle:{direction:"ltr"},attrs:{imgs:[t.img1,t.img2,t.img3,t.img4,t.img5],show:t.show,canvasHeight:200,sliderText:t.$t("拖动滑块以完成拼图"),successText:t.$t("验证通过!"),failText:t.$t("验证失败,请重试")},on:{success:t.onSuccess,fail:t.onFail,close:function(a){t.show=!1}}}),t.isShelves?a("div",{staticClass:"lang-right"},[a("div",{staticClass:"lang-left",on:{click:t.onClickLeft}},[a("van-icon",{attrs:{name:"arrow-left"}})],1),a("router-link",{attrs:{to:"/language"}},[a("img",{staticClass:"lang-icon",attrs:{src:s(21652)}})])],1):t._e(),a("div",{staticClass:"login-title"},[t._v(t._s(t.$t("注册")))]),["SM-wholesaleShop","FamilyShop"].includes(t.itemName)?t._e():a("div",{staticClass:"tab"},[a("div",{staticClass:"tab-button",class:1===t.TabShow?"tab-button-show2":"tab-button-show1",on:{click:function(a){return t.TabClick(1)}}},[t._v(t._s(t.$t("手机号")))]),a("div",{staticClass:"tab-button",class:2===t.TabShow?"tab-button-show2":"tab-button-show1",on:{click:function(a){return t.TabClick(2)}}},[t._v(t._s(t.$t("邮箱")))])]),a("div",{staticClass:"phone_form"},[a("div",{staticClass:"title-input m-t20 m-b10"},[t._v(t._s(1===t.TabShow?t.$t("手机号"):t.$t("邮箱")))]),1===t.TabShow?a("div",{staticClass:"login-input"},[a("el-input",{attrs:{placeholder:t.$t("请输入手机号"),maxlength:"20",clearable:""},on:{input:()=>t.formData.username=t.formData.username.replace(/[^\d]/g,"")},model:{value:t.formData.username,callback:function(a){t.$set(t.formData,"username","string"===typeof a?a.trim():a)},expression:"formData.username"}},[a("div",{attrs:{slot:"prepend"},on:{click:function(a){return t.openNational("dialCode")}},slot:"prepend"},[a("p",[t._v("+"),a("span",[t._v(t._s(t.dialCode))]),t._v(" "),a("img",{staticClass:"icon",attrs:{src:t.triangleDown,alt:""}})])])])],1):t._e(),2===t.TabShow?a("div",{staticClass:"login-input code_wrap"},[a("el-input",{attrs:{placeholder:t.$t("请输入邮箱"),maxlength:"64"},model:{value:t.formData.username,callback:function(a){t.$set(t.formData,"username","string"===typeof a?a.trim():a)},expression:"formData.username"}})],1):t._e(),["SM-wholesaleShop","FamilyShop"].includes(t.itemName)?a("div",[a("div",{staticClass:"title-input m-t20 m-b10"},[t._v(t._s(t.$t("手机号")))]),a("div",{staticClass:"login-input"},[a("el-input",{attrs:{placeholder:t.$t("请输入手机号"),maxlength:"20",clearable:""},on:{input:()=>t.formData.phone=t.formData.phone.replace(/[^\d]/g,"")},model:{value:t.formData.phone,callback:function(a){t.$set(t.formData,"phone","string"===typeof a?a.trim():a)},expression:"formData.phone"}},[a("div",{attrs:{slot:"prepend"},on:{click:function(a){return t.openNational("dialCode")}},slot:"prepend"},[a("p",[t._v("+"),a("span",[t._v(t._s(t.dialCode))]),t._v(" "),a("img",{staticClass:"icon",attrs:{src:t.triangleDown,alt:""}})])])])],1),a("div",{staticClass:"title-input m-t20 m-b10"},[t._v("WhatsApp")]),a("div",{staticClass:"login-input"},[a("el-input",{attrs:{placeholder:t.$t("请输入WhatsApp账号"),maxlength:"16",clearable:""},on:{input:()=>t.formData.WhatsApp=t.formData.WhatsApp.replace(/[^\d]/g,"")},model:{value:t.formData.WhatsApp,callback:function(a){t.$set(t.formData,"WhatsApp",a)},expression:"formData.WhatsApp"}},[a("div",{attrs:{slot:"prepend"},on:{click:function(a){return t.openNational("dialCode2")}},slot:"prepend"},[a("p",[t._v("+"),a("span",[t._v(t._s(t.dialCode2))]),t._v(" "),a("img",{staticClass:"icon",attrs:{src:t.triangleDown,alt:""}})])])])],1)]):t._e(),a("div",{staticClass:"title-input m-t20 m-b10"},[t._v(t._s(t.$t("密码")))]),a("div",{staticClass:"login-input"},[a("el-input",{attrs:{placeholder:t.$t("请输入 6-20 位由数字或字母组成的密码"),maxlength:"20","show-password":"",clearable:""},model:{value:t.formData.password,callback:function(a){t.$set(t.formData,"password","string"===typeof a?a.trim():a)},expression:"formData.password"}})],1),a("div",{staticClass:"title-input m-t20 m-b10"},[t._v(t._s(t.$t("确认密码")))]),a("div",{staticClass:"login-input"},[a("el-input",{attrs:{placeholder:t.$t("请再次输入密码"),maxlength:"20","show-password":"",clearable:""},model:{value:t.formData.re_password,callback:function(a){t.$set(t.formData,"re_password","string"===typeof a?a.trim():a)},expression:"formData.re_password"}})],1)]),a("div",{staticClass:"tijiao",on:{click:t.post_form}},[t._v(t._s(t.$t("注册")))]),a("div",{staticClass:"zhuce"},[a("div",{staticClass:"zhuce-flex"}),a("div",{staticClass:"zhuce-text1"},[t._v(t._s(t.$t("已有账号？"))+" ")]),a("div",{staticClass:"zhuce-text2",on:{click:function(a){return t.$router.push("/login")}}},[t._v(t._s(t.$t("去登录")))]),a("div",{staticClass:"zhuce-flex"})]),["SM-wholesaleShop","FamilyShop"].includes(t.itemName)?t._e():a("div",{staticClass:"servece_box",on:{click:t.handleJump}},[a("img",{attrs:{src:s(62533)}})])],1)},i=[],o=(s(37850),s(88848)),n=(s(65825),s(19858)),r=s(56744),l=s.n(r),c=s(38211),h=s(14970),m=s(10408),A=s(15941),u={name:"LoginPage",components:{[n.Z.name]:n.Z,NationalityList:c.Z,Vcode:l()},data(){return{isLogin:m.bg,isShelves:!{NODE_ENV:"production",VUE_APP_FOOTER_COLOR:"#f89900",VUE_APP_ITEM_NAME:"TikTokMall",VUE_APP_MAIN_COLOR:"#f89900",BASE_URL:"./"}.VUE_APP_PUT_ON_SHELVES,itemName:"TikTokMall",img1:s(38580),img2:s(31406),img3:s(75042),img4:s(5431),img5:s(41376),triangleDown:s(44499),TabShow:["SM-wholesaleShop","FamilyShop"].includes("TikTokMall")?2:1,codeBtnTxt:this.$t("码"),formData:{username:"",password:"",re_password:"",verifcode:"",phone:"",WhatsApp:""},count:60,interval:null,btnDisabled:!1,show:!1,pageDiaCode:!1,dialCode:localStorage.getItem("dialCode")||1,dialCode2:localStorage.getItem("dialCode2")||1,currentdialCode:"dialCode"}},created(){this.isLogin()&&this.$router.push("/")},methods:{getCode(){if(""===this.formData.username)return void(0,o.Z)(this.$t("请输入邮箱"));const t=/^([A-Za-z0-9_\-\.\w{3,}])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;if(!t.test(this.formData.username))return void(0,o.Z)(this.$t("邮箱格式有误"));o.Z.loading({duration:0,message:this.$t("发送中"),forbidClick:!0});const a={target:this.formData.username};(0,h.Vv)(a).then((()=>{o.Z.success(this.$t("发送成功")),this.timerFn()})).catch((t=>{o.Z.clear()}))},timerFn(){this.codeBtnTxt=`${this.$t("再次获取")} ${this.count} s`,this.btnDisabled=!0,this.interval=setInterval((()=>{1===this.count?(this.count=60,this.codeBtnTxt=this.$t("再次获取"),this.btnDisabled=!1,clearInterval(this.interval)):(this.count-=1,this.codeBtnTxt=`${this.$t("再次获取")} ${this.count} s`)}),1e3)},handleJump(){const t=this.$store.state.multiItem["TikTokMall"].customer_service;t?window.plus?window.plus.runtime.openURL(encodeURI(t+"?wp=app")):window.open(t):this.$router.push({path:"customerServiceIndex?path=customerService"})},TabClick(t){this.TabShow=t,this.formData.username="",this.formData.password="",this.formData.re_password=""},post_form(){const t=this;if(1===this.TabShow){if(""===this.formData.username)return void(0,o.Z)(t.$t("请输入手机号"));{const a=/^[0-9]+[0-9]*$/;if(!a.test(this.formData.username))return void(0,o.Z)(t.$t("手机号格式有误"))}}if(2===this.TabShow){if(""===this.formData.username)return void(0,o.Z)(t.$t("请输入邮箱"));const a=/^([A-Za-z0-9_\-\.\w{3,}])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;if(!a.test(this.formData.username))return void(0,o.Z)(t.$t("邮箱格式有误"))}if(""===this.formData.password)return void(0,o.Z)(t.$t("请输入密码"));const a=/^[a-zA-Z0-9!@#$%^&*()_+{}\[\]:;'"\\|,.<>?~`\-=/]{6,20}$/;a.test(this.formData.password)?this.formData.password===this.formData.re_password?["SM-wholesaleShop","FamilyShop"].includes(this.itemName)&&""===this.formData.WhatsApp.trim()?(0,o.Z)(this.$t("请输入WhatsApp账号")):this.show=!0:(0,o.Z)(this.$t("两次密码输入不一致")):(0,o.Z)(t.$t("请输入 6-20 位由数字或字母组成的密码"))},onSuccess(){this.registerSubmit(),this.show=!1},onFail(){A.log("失败回调")},async registerSubmit(){const t=["SM-wholesaleShop","FamilyShop"].includes(this.itemName)?h.hy:h.n$,a={password:encodeURI(this.formData.password)?.trim(),re_password:encodeURI(this.formData.re_password)?.trim(),type:this.TabShow};sessionStorage.getItem("ac_code")&&(a.agentCode=sessionStorage.getItem("ac_code"),sessionStorage.removeItem("ac_code")),["SM-wholesaleShop","FamilyShop"].includes(this.itemName)?(a.verifcode=this.formData.verifcode,a.phone=`${this.dialCode} ${this.formData.phone}`,a.username=this.formData.username.trim(),a.whatsApp=`+${this.dialCode2} ${this.formData.WhatsApp}`):a.username=1===this.TabShow?`${this.dialCode} ${this.formData.username.trim()}`:this.formData.username.trim(),o.Z.loading({duration:0,message:this.$t("提交中"),forbidClick:!0}),t(a).then((async t=>{["SM-wholesaleShop","FamilyShop"].includes(this.itemName)?localStorage.setItem("ACCOUNT_INFO",JSON.stringify({username:this.formData.username?.trim(),phone:`${this.dialCode} ${this.formData.phone}`,TabShow:1})):1==this.TabShow?localStorage.setItem("ACCOUNT_INFO",JSON.stringify({username:this.formData.username?.trim(),dialCode:this.dialCode,TabShow:2})):localStorage.setItem("ACCOUNT_INFO",JSON.stringify({username:this.formData.username?.trim(),TabShow:1})),o.Z.clear(),this.$notify(this.$t("注册成功"),"success"),localStorage.setItem("token",t.token);let a=this.dayjs.tz.guess();localStorage.setItem("timeZone",a),await this.$store.dispatch("getUserInfo"),setTimeout((()=>{this.$router.push({path:"/"})}),500)})).catch((t=>{o.Z.clear()}))},limitEmoji(t){this.formData.WhatsApp=t.replace(/\uD83C[\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F]/g,"")},getName(t){this.pageDiaCode?(this[this.currentdialCode]=t[2],localStorage.setItem(this.currentdialCode,this[this.currentdialCode])):this.pageDiaCode=!0},openNational(t){this.currentdialCode=t,this.$refs.controlChild.open()},onClickLeft(){this.$router.push("/")}}},d=u,p=s(1001),g=(0,p.Z)(d,e,i,!1,null,"5f86fba5",null),f=g.exports},65825:function(t,a,s){s(22184),s(14106),s(4127)},62533:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAA3CAYAAAClxaIBAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANFSURBVHgB7ZnRcdswDIbhXN/rbqARtEHVCeoN4g3iTiB3gmQDZwMnEygbOJ2A3sDe4C9xolsFIiWSIl275++Ol4sMEQAJghQ4o4wAKPSfuWlHbrPZbE+JmVEitMFsaKnbd90WuhUD4m+6vev2qp16o38Nj7Zuj7odEIfS7cHM2tmNnxvjU6F0qymCqHDSyir9Z0ttrLvYdxrR37VRerz3Lcfa+QOP1sBoNrqtxkJD/14aOeXoh0PznnIAd/g0ZnZi+lwMOBMVXkPKatjjuKIE6H7WDkdWlAKHAzt4ZBS0CYAz2NxDtoB9ViqagunY5sCc3EbXaENMpt2Deb50DYDDEQWPQRhywqtDo3yLMOqBvuQAPFIMZsTkSBYWuXtM2+xsfS4sshWFgv4srCwyNaZzsBmonz0LuYZCQH8WlEXmAelgR0rR/xz9Ga7IF7QLsMtS/F4gPQpijaCfete+DkgDlYeTqVgLPeWYLdIwnj4OI7kzb4RchXxw+MxHBozDmBd+IR2oBzpeCNkN8rIS+p4ccgqnMxb6i1giF5xCXl6EvsWQsGu6+kLuGM3BQegcTCJ3Rq4gN3vxf/z270+Qjju6UNBZtGMfSBfrRMiXXYwTe8rPMUQ42AkzQkFKIngPET45EWpUkJIIXkOE7zxesmWKn5SXF8uzt8E30B431EAqrizv7JCHjcNG3p9s3yy7rhBvKM/GOIWPTjWWTnOcnxQGvts7Np7s4xOue0+xGLmVCuCuUMSyoNSgf/A6GGfWJ4fQ//qKZU25gPsEeejITJkRHpgl5QbtKVcJ5UrIVAg/3TY4dzXcGLoyI186ZPjYvIW7+sHPeXYrSkSySxYbxtFT9sh2U3TjRkJG1wTaHZE3oa/kvuXheOdD4Q8d896HSZOZ+JhROET2NPWCEm1pJKTG6l1mhLuM74Jll779nxQ0iMPrUmRC/+PVcYSPkMRaORc6akxjM+bEBtNpRgYpBSuXgrEi2mQlSFd4s8840lf2lp2++cNrg7Q8cd+zjhJOnztKD6dITrtjl/Ax8DHmy6fOg4ryUFI+eHbLbsmmoOvkgxPnqLFm4WLLmCHcnLgU/jsn9nSdHLv7BO9+nKE+0/XwS292L78BGJueWkYnT3cAAAAASUVORK5CYII="},44499:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAATCAYAAACDW21BAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAD3SURBVHgB3ZI9DoJAEEZn4QJaQucNNITE0tLWI3gC4xHsLD2Ona0F4B6BCryCBeBMgdkM2WWRxcKXwA6zP182PIB/R9AriqILDgf4AaItMPSGwwamRXptVVXVvmmaHCaCzsaMnVCbcRwv67qmm87AMRi2kFLmvtosiuIZBMFLCLEFh+B5xyzLrlT7fLIsy3sYhnMs1+AADDslSXL+fOsWOpJIpmm6UhuebuVYiVpJeF+YNo2RqJWE933Tpm8lUiUZFEgMlYhL0pkHSywl6kjC8cCSPol0knCsb0iYJNJJwun9hyo6iUySjAokuER9kjiDJMLnAQN5AwgPjbeTqmD3AAAAAElFTkSuQmCC"},21652:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAASkSURBVHgB7Vg7chs5EAWpT2223FKyVQo8zjYTqU+VMmNvIJ9A4xMslW1G6gSSTrBStKl8Ao8zVenj0Ql2nCielRS49PVrqzF6A2JmSNrlcuCuYhFoNBsPD2igm8b8lK+TlplSVldX7cPDw1Kr1bKPj49dfHeg7uhwDl0GXYp2Mjc39/7o6CgzU8hEAK21ncvLy01MvCFdM5kk+Oydnp4eTvKjsQEuLy/HALZjnlmaSsBsOj8//3pcRmeaDIS1hYWFfwHub3R/oYly6I7QjEjXh+4Tmn+oKsenZIPx33E0+ouLi62Li4vENEi7bnB9fT26urr6gOYGA8NniEle4vuA9NnZ2dne/f39G3LRgV0Mndjus2/0BysrK/+YaQEKuNvb23emzNCuAAOQ7TRNhcFNN4b2UL5Fb57Om9PH0An4Nwo0pWligHxnJgXogxPWxBkm2VIAptvtylm07jeY/D0t5IAAFjYKtCc7QNPZOiaDAAFuwODA2p+IvgO2mZmZsdRNZHLXgT1HqtXFFCI74IGMEYR9Mw5AiVb5geuDgT4mT307TLBE7dK4sCxnklSR/3sFuUvzDGTnGgGKIU286zNHdt3CSbudBMYLHdheCvkA09u0kI7uXDVAZS9ScJk4MBWC8ci1cf7ywHhG7W7IhzCNxXHUxz6LJYDMnkSlC4iQMIMAcB4w+Ui2lZf7yclJYijqb25uNoMA19bWZMJIuzlYeVvl1Dv0eWghYCZz7SoGnWAB29TuBwEC0CtyeFjHnqHnTq+gEbm7u8tC9iFRFp2fDgh4Pt/mGbmldlLncHZ2NiLbrMIsJ5tx3u/iauKgKgB6h/7cfKV4O9AIkK8qPhLMYET2mfn+8r9rMOOzZFAoccD/wpVT5ajEtrRhOzAN0mTjERSFALLx0Iwp6rjRfhKfLHwP5ubHkcw1Cga1hnCH89B/X1mUtdj9Dl/7FXZD8j80NaK3iCWfZYBa4HTVIJHks8qZXOqSiGo3l4fft8FVFuG6GLoJQzYsSLmsayMGCnL4mkkJ7EadMzzqjVcIKrnSa2NqxM8tccmfjwAEI5y1jORwnvAlHIUMsOAO2dQCBGNcUqScWxYA/VRdrpoqh2pbTNrr9V74NlhwRN1agF6SsstjfjZTerRDCaQTL536LWDygsYrA85P8bh0GAHopT6SQFbWChpUT07a7VeBcUvjQYBCALMH2eftHQGozraoa/EXx44JiBdUoXQqcg0c+o/+oNTbXmEWjPQRgMfHxymMtwhIHyCHZnQh52RjeUyPRqTd3K9pBNz19XWppJXCzAQkWNVhJXJQuSgf+EyCFZn0y+GXSOZAQVZsyTQxHngBxxmLkOBvbS1AERRLMTsXJ7hM/9PM20Uyb3NMbU7bizwPi+xjWz944IZ1j0Ljn0eIsh0/DZdJoROnv0r2rTopE14ime1CV/xbgKPQk2xdfUTsRBZdB24sgAqyr9HmX96ZN+m+eXoRWJf7v9OK8XWo3p4KoIi8rWBjwFs5qWj9Iv/v7DXUPGZigE4cUDRt1TMXkESOgjyn4wIz0wJkkeoLYOXALylY2covz6BuY4b220lB/ZRvKZ8B+KKyax+GEToAAAAASUVORK5CYII="}}]);