"use strict";(self["webpackChunkshop"]=self["webpackChunkshop"]||[]).push([[6162],{26162:function(t,i,s){s.r(i),s.d(i,{default:function(){return m}});var e=function(){var t=this,i=t._self._c;return i("div",{staticClass:"LoginPasswordReset",staticStyle:{"min-height":"100vh"}},[i("Vcode",{staticStyle:{direction:"ltr"},attrs:{imgs:[t.img1,t.img2,t.img3,t.img4,t.img5],show:t.show,canvasHeight:200,sliderText:t.$t("拖动滑块以完成拼图"),successText:t.$t("验证通过!"),failText:t.$t("验证失败,请重试")},on:{success:t.onSuccess,close:function(i){t.show=!1}}}),i("van-nav-bar",{attrs:{"safe-area-inset-top":"",fixed:"",title:t.$t("重置密码"),"left-arrow":""},on:{"click-left":t.onClickLeft}}),i("div",{staticClass:"h46",staticStyle:{width:"100%"}}),i("div",{staticClass:"nr"},[i("div",{staticClass:"biaoti"},[t._v(t._s(t.$t("原密码")))]),i("div",{staticClass:"shuru"},[i("el-input",{attrs:{placeholder:t.$t("请输入原密码"),maxlength:"20","show-password":"",clearable:""},model:{value:t.it.input1,callback:function(i){t.$set(t.it,"input1",i)},expression:" it.input1 "}})],1),i("div",{staticClass:"biaoti"},[t._v(t._s(t.$t("新密码")))]),i("div",{staticClass:"shuru"},[i("el-input",{attrs:{placeholder:t.$t("请输入新密码"),maxlength:"20","show-password":"",clearable:""},model:{value:t.it.input2,callback:function(i){t.$set(t.it,"input2",i)},expression:" it.input2 "}})],1),i("div",{staticClass:"biaoti"},[t._v(t._s(t.$t("再次输入新密码")))]),i("div",{staticClass:"shuru"},[i("el-input",{attrs:{placeholder:t.$t("请再次输入新密码"),maxlength:"20","show-password":"",clearable:""},model:{value:t.it.input3,callback:function(i){t.$set(t.it,"input3",i)},expression:" it.input3 "}})],1),i("div",{staticClass:"tijiao",on:{click:t.biaodantijiao}},[t._v(t._s(t.$t("提交")))])])],1)},a=[],n=(s(43635),s(93407)),o=(s(59144),s(30296)),c=(s(73927),s(90021)),l=s(17223),u=s(24518),r=s.n(u),d=(s(74429),{data(){return{img1:s(38580),img2:s(31406),img3:s(75042),img4:s(5431),img5:s(41376),show:!1,it:{input1:"",input2:"",input3:""}}},components:{[o.Z.name]:o.Z,Vcode:r()},created(){(0,l.bg)()||this.$router.push("/")},methods:{onClickLeft(){this.$router.push({path:"/Setting",dir:"left"})},biaodantijiao(){const t=this;if(""===t.it.input1)return void(0,n.Z)(t.$t("请输入原密码"));if(""===t.it.input2)return void(0,n.Z)(t.$t("请输入新密码"));const i=/^[a-zA-Z0-9!@#$%^&*()_+{}\[\]:;'"\\|,.<>?~`\-=/]{6,20}$/;i.test(t.it.input2)?t.it.input3===t.it.input2?t.it.input1!=t.it.input2?this.submitHandle():(0,n.Z)(t.$t("新密码不能与原密码相同")):(0,n.Z)(t.$t("两次密码输入不一致")):(0,n.Z)(t.$t("请输入 6-20 位由数字或字母组成的密码"))},onSuccess(){this.submitHandle(),this.show=!1},submitHandle(){n.Z.loading({duration:0,message:this.$t("提交中"),forbidClick:!0});const t={old_password:encodeURI(this.it.input1),password:encodeURI(this.it.input2),re_password:encodeURI(this.it.input3)};(0,c.oI)(t).then((async()=>{n.Z.success(this.$t("修改成功")),await this.$store.dispatch("getUserInfo"),this.onClickLeft()})).catch((t=>{n.Z.clear()}))}}}),h=d,p=s(80062),$=(0,p.Z)(h,e,a,!1,null,"2090120b",null),m=$.exports}}]);