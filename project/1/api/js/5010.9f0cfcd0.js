"use strict";(self["webpackChunkshop"]=self["webpackChunkshop"]||[]).push([[5010],{35010:function(e,t,s){s.r(t),s.d(t,{default:function(){return u}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"service-box"},[t("van-nav-bar",{ref:"header",attrs:{"safe-area-inset-top":"",title:e.$t("系统消息"),"left-arrow":"",fixed:""},on:{"click-left":e.onClickLeft}}),t("div",{staticClass:"h46",staticStyle:{width:"100%"}}),t("div",{staticClass:"box"},e._l(e.notifyList,(function(s){return t("div",{key:s.id,staticClass:"notify",on:{click:function(t){return e.readMessage(s)}}},[t("div",{staticClass:"content"},[t("span",{staticClass:"title"},[1==s.status?t("div",{staticClass:"tips"}):e._e(),e._v(" "+e._s(e.$t("店铺投诉通知"))+" ")]),t("span",{staticClass:"mt-10"},["Customer complaint success notification"==s.title?t("span",[e._v(" "+e._s(e.$t("您的投诉的{storeName}，投诉原因：{complaintReason}，经系统审核，情况属实，并扣除店铺信誉积分{creditScore}，感谢您反馈，给您带来的不便，还请谅解！",{storeName:s.storeName,complaintReason:e.$t(s.complaintReason),creditScore:s.creditScore}))+" ")]):e._e(),"Customer complaint rejection notification"==s.title?t("span",[e._v(" "+e._s(e.$t("您的投诉的{storeName}，投诉原因：{complaintReason}，经系统审核被驳回，驳回理由：{rejectionReason}",{storeName:s.storeName,complaintReason:e.$t(s.complaintReason),rejectionReason:s.creditScore}))+" ")]):e._e()]),t("span",{staticClass:"time"},[e._v(e._s(s.reserveSendTime))])])])})),0)],1)},i=[],o=(s(73927),s(81228)),n=s(17223),r={name:"CustomerService",data(){return{messageList:[],shourtTimeString:n.Rw,notifyList:[],pageNum:1}},mounted(){this.requestSystemMessage()},methods:{onClickLeft(){this.$router.back()},handleJump(e){localStorage.setItem("storeName",e.username),localStorage.setItem("sellerId",e.partyid),setTimeout((()=>{this.$router.push("/customerService2")}),200)},readMessage(e){1==e.status&&(0,o.Kk)({ids:e.id}).then((t=>{this.notifyList.forEach((t=>{t.id==e.id&&(t.status=2)}))}))},requestSystemMessage(){(0,o.nx)({module:0,type:3,status:0,pageSize:100,pageNum:this.pageNum,totalElements:-1}).then((e=>{e.elements.forEach((e=>{if("Customer complaint success notification"==e.title){const t=/The (.*) that you complained, the reason for the complaint: (.*), after review by the system, the situation is true, and the store reputation points (\d+) will be deducted./,s=e.content.match(t),a=s[1];let i=s[2];const o=s[3];"No delivery for a long time"==i?i="长时间不发货":"The seller has a bad service attitude"==i?i="卖家服务态度恶劣":"Seller transaction fraud"==i?i="卖家交易欺诈":"The seller fails to fulfill his promise"==i?i="卖家承诺不履行":"other"==i&&(i="其他"),e.complaintReason=i,e.creditScore=o,e.storeName=a}else if("Customer complaint rejection notification"==e.title){const t=/The (.*) that you complained, the reason for the complaint: (.*), was rejected after review by the system, the reason for rejection: (.*)/,s=e.content.match(t),a=s[1];let i=s[2];const o=s[3];"No delivery for a long time"==i?i="长时间不发货":"The seller has a bad service attitude"==i?i="卖家服务态度恶劣":"Seller transaction fraud"==i?i="卖家交易欺诈":"The seller fails to fulfill his promise"==i?i="卖家承诺不履行":"other"==i&&(i="其他"),e.complaintReason=i,e.creditScore=o,e.storeName=a}})),this.notifyList=[...this.notifyList,...e.elements]}))}}},c=r,l=s(80062),m=(0,l.Z)(c,a,i,!1,null,"56bda97a",null),u=m.exports}}]);